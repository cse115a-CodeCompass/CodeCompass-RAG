{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function formatRelativeTime(dateString: string): string {\n  if (!dateString) return \"\";\n\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n\n  if (diffInSeconds < 60) {\n    return \"just now\";\n  }\n\n  const diffInMinutes = Math.floor(diffInSeconds / 60);\n  if (diffInMinutes < 60) {\n    return `${diffInMinutes} ${diffInMinutes === 1 ? \"minute\" : \"minutes\"} ago`;\n  }\n\n  const diffInHours = Math.floor(diffInMinutes / 60);\n  if (diffInHours < 24) {\n    return `${diffInHours} ${diffInHours === 1 ? \"hour\" : \"hours\"} ago`;\n  }\n\n  const diffInDays = Math.floor(diffInHours / 24);\n  if (diffInDays < 7) {\n    return `${diffInDays} ${diffInDays === 1 ? \"day\" : \"days\"} ago`;\n  }\n\n  const diffInWeeks = Math.floor(diffInDays / 7);\n  if (diffInWeeks < 4) {\n    return `${diffInWeeks} ${diffInWeeks === 1 ? \"week\" : \"weeks\"} ago`;\n  }\n\n  const diffInMonths = Math.floor(diffInDays / 30);\n  if (diffInMonths < 12) {\n    return `${diffInMonths} ${diffInMonths === 1 ? \"month\" : \"months\"} ago`;\n  }\n\n  const diffInYears = Math.floor(diffInDays / 365);\n  return `${diffInYears} ${diffInYears === 1 ? \"year\" : \"years\"} ago`;\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAEO,SAAS,mBAAmB,UAAkB;IACnD,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,MAAM,IAAI;IAChB,MAAM,gBAAgB,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,KAAK,KAAK,OAAO,EAAE,IAAI;IAEpE,IAAI,gBAAgB,IAAI;QACtB,OAAO;IACT;IAEA,MAAM,gBAAgB,KAAK,KAAK,CAAC,gBAAgB;IACjD,IAAI,gBAAgB,IAAI;QACtB,OAAO,GAAG,cAAc,CAAC,EAAE,kBAAkB,IAAI,WAAW,UAAU,IAAI,CAAC;IAC7E;IAEA,MAAM,cAAc,KAAK,KAAK,CAAC,gBAAgB;IAC/C,IAAI,cAAc,IAAI;QACpB,OAAO,GAAG,YAAY,CAAC,EAAE,gBAAgB,IAAI,SAAS,QAAQ,IAAI,CAAC;IACrE;IAEA,MAAM,aAAa,KAAK,KAAK,CAAC,cAAc;IAC5C,IAAI,aAAa,GAAG;QAClB,OAAO,GAAG,WAAW,CAAC,EAAE,eAAe,IAAI,QAAQ,OAAO,IAAI,CAAC;IACjE;IAEA,MAAM,cAAc,KAAK,KAAK,CAAC,aAAa;IAC5C,IAAI,cAAc,GAAG;QACnB,OAAO,GAAG,YAAY,CAAC,EAAE,gBAAgB,IAAI,SAAS,QAAQ,IAAI,CAAC;IACrE;IAEA,MAAM,eAAe,KAAK,KAAK,CAAC,aAAa;IAC7C,IAAI,eAAe,IAAI;QACrB,OAAO,GAAG,aAAa,CAAC,EAAE,iBAAiB,IAAI,UAAU,SAAS,IAAI,CAAC;IACzE;IAEA,MAAM,cAAc,KAAK,KAAK,CAAC,aAAa;IAC5C,OAAO,GAAG,YAAY,CAAC,EAAE,gBAAgB,IAAI,SAAS,QAAQ,IAAI,CAAC;AACrE"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-xs font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground dark:text-dark:primary-foreground dark:bg-primary/70 dark:hover:bg-primary/80 dark:border border-primary/95\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 dark:hover:bg-destructive/50\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:text-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80 dark:bg-secondary/70 dark:hover:bg-secondary/60\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-elevated dark:hover:text-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-7 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/lib/stores/useNavbarStore.ts"],"sourcesContent":["import { create } from \"zustand\";\n\ninterface NavbarState {\n  contextText: string;\n  breadcrumbs?: Array<{ label: string; href?: string }>;\n  setContext: (text: string) => void;\n  setBreadcrumbs: (\n    breadcrumbs: Array<{ label: string; href?: string }>,\n  ) => void;\n  appendBreadcrumb: (breadcrumb: { label: string; href?: string }) => void;\n  reset: () => void;\n}\n\nexport const useNavBarStore = create<NavbarState>((set) => ({\n  contextText: \"Dashboard\",\n  breadcrumbs: undefined,\n  setContext: (text) => set({ contextText: text }),\n  setBreadcrumbs: (breadcrumbs) => set({ breadcrumbs }),\n  appendBreadcrumb: (breadcrumb) =>\n    set((state) => ({\n      breadcrumbs: [...(state.breadcrumbs || []), breadcrumb],\n    })),\n  reset: () => set({ contextText: \"Dashboard\", breadcrumbs: undefined }),\n}));\n"],"names":[],"mappings":";;;;AAAA;;AAaO,MAAM,iBAAiB,IAAA,kJAAM,EAAc,CAAC,MAAQ,CAAC;QAC1D,aAAa;QACb,aAAa;QACb,YAAY,CAAC,OAAS,IAAI;gBAAE,aAAa;YAAK;QAC9C,gBAAgB,CAAC,cAAgB,IAAI;gBAAE;YAAY;QACnD,kBAAkB,CAAC,aACjB,IAAI,CAAC,QAAU,CAAC;oBACd,aAAa;2BAAK,MAAM,WAAW,IAAI,EAAE;wBAAG;qBAAW;gBACzD,CAAC;QACH,OAAO,IAAM,IAAI;gBAAE,aAAa;gBAAa,aAAa;YAAU;IACtE,CAAC"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/lib/stores/useChatUIStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { Conversation } from \"@/app/types/supabase\";\n\ninterface LLMModel {\n  id: string;\n  name: string;\n  provider: string;\n}\n\ninterface ChatUIState {\n  isExpanded: boolean;\n  initialMessage: string;\n  selectedModel: LLMModel;\n  conversation: Conversation | null;\n  hasDocumentation: boolean;\n  repoId: string | null;\n  selectedVersion: number | null;\n  expand: (message: string) => void;\n  minimize: () => void;\n  setSelectedModel: (model: LLMModel) => void;\n  toggle: () => void;\n  setHasDocumentation: (hasDocumentation: boolean) => void;\n  setRepoId: (repoId: string) => void;\n  setSelectedVersion: (version: number | null) => void;\n  startNewConversation: () => void;\n  setConversation: (conversation: Conversation | null) => void;\n  reset: () => void;\n}\n\nconst DEFAULT_MODEL: LLMModel = {\n  id: \"claude-4.5-sonnet\",\n  name: \"Claude 4.5 Sonnet\",\n  provider: \"Anthropic\",\n};\n\nexport const useChatUIStore = create<ChatUIState>((set) => ({\n  isExpanded: false,\n  initialMessage: \"\",\n  selectedModel: DEFAULT_MODEL,\n  conversation: null,\n  hasDocumentation: false,\n  repoId: null,\n  selectedVersion: null,\n  expand: (message: string) =>\n    set({ isExpanded: true, initialMessage: message }),\n  minimize: () => set({ isExpanded: false, initialMessage: \"\" }),\n  setSelectedModel: (model: LLMModel) => set({ selectedModel: model }),\n  toggle: () => set((state) => ({ isExpanded: !state.isExpanded })),\n  setHasDocumentation: (hasDocumentation: boolean) => set({ hasDocumentation }),\n  setRepoId: (repoId: string) => set({ repoId }),\n  setSelectedVersion: (version: number | null) =>\n    set({ selectedVersion: version }),\n  startNewConversation: () => set({ conversation: null, initialMessage: \"\" }),\n  setConversation: (conversation: Conversation | null) => set({ conversation }),\n  reset: () =>\n    set({\n      isExpanded: false,\n      initialMessage: \"\",\n      selectedModel: DEFAULT_MODEL,\n      conversation: null,\n      hasDocumentation: false,\n      repoId: null,\n      selectedVersion: null,\n    }),\n}));\n"],"names":[],"mappings":";;;;AAAA;;AA6BA,MAAM,gBAA0B;IAC9B,IAAI;IACJ,MAAM;IACN,UAAU;AACZ;AAEO,MAAM,iBAAiB,IAAA,kJAAM,EAAc,CAAC,MAAQ,CAAC;QAC1D,YAAY;QACZ,gBAAgB;QAChB,eAAe;QACf,cAAc;QACd,kBAAkB;QAClB,QAAQ;QACR,iBAAiB;QACjB,QAAQ,CAAC,UACP,IAAI;gBAAE,YAAY;gBAAM,gBAAgB;YAAQ;QAClD,UAAU,IAAM,IAAI;gBAAE,YAAY;gBAAO,gBAAgB;YAAG;QAC5D,kBAAkB,CAAC,QAAoB,IAAI;gBAAE,eAAe;YAAM;QAClE,QAAQ,IAAM,IAAI,CAAC,QAAU,CAAC;oBAAE,YAAY,CAAC,MAAM,UAAU;gBAAC,CAAC;QAC/D,qBAAqB,CAAC,mBAA8B,IAAI;gBAAE;YAAiB;QAC3E,WAAW,CAAC,SAAmB,IAAI;gBAAE;YAAO;QAC5C,oBAAoB,CAAC,UACnB,IAAI;gBAAE,iBAAiB;YAAQ;QACjC,sBAAsB,IAAM,IAAI;gBAAE,cAAc;gBAAM,gBAAgB;YAAG;QACzE,iBAAiB,CAAC,eAAsC,IAAI;gBAAE;YAAa;QAC3E,OAAO,IACL,IAAI;gBACF,YAAY;gBACZ,gBAAgB;gBAChB,eAAe;gBACf,cAAc;gBACd,kBAAkB;gBAClB,QAAQ;gBACR,iBAAiB;YACnB;IACJ,CAAC"}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/dashboard/navcontext.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { useNavBarStore } from \"@/lib/stores/useNavbarStore\";\nimport { useChatUIStore } from \"@/lib/stores/useChatUIStore\";\nimport Link from \"next/link\";\n\n// Map route patterns to display names\nconst routeDisplayNames: Record<string, string> = {\n  \"/dashboard\": \"Dashboard\",\n  \"/dashboard/organizations\": \"Organizations\",\n  \"/dashboard/repositories\": \"Repositories\",\n  \"/dashboard/documentation\": \"Documentation\",\n  \"/dashboard/chat\": \"Chat\",\n  \"/dashboard/new\": \"New Organization\",\n};\n\nexport function NavContext() {\n  const pathname = usePathname();\n  const { contextText, breadcrumbs } = useNavBarStore();\n  const minimize = useChatUIStore((state) => state.minimize);\n\n  const handleBreadcrumbClick = () => {\n    // Reset chat state when navigating away\n    minimize();\n  };\n\n  // Derive context from URL as fallback\n  const defaultContext = useMemo(() => {\n    // Check for exact matches first\n    if (routeDisplayNames[pathname]) {\n      return routeDisplayNames[pathname];\n    }\n\n    // Handle dynamic routes\n    if (pathname.startsWith(\"/dashboard/org/\")) {\n      return \"Organization\";\n    }\n    if (pathname.startsWith(\"/dashboard/repo/\")) {\n      return \"Repository\";\n    }\n    if (pathname.startsWith(\"/dashboard/new/\")) {\n      return \"New Repository\";\n    }\n\n    // Default fallback\n    return \"Dashboard\";\n  }, [pathname]);\n\n  // If breadcrumbs are set, display them\n  if (breadcrumbs && breadcrumbs.length > 0) {\n    return (\n      <div className=\"flex items-center gap-2\">\n        {breadcrumbs.map((crumb, index) => (\n          <div key={index} className=\"flex items-center gap-2\">\n            {crumb.href ? (\n              <Link\n                href={crumb.href}\n                prefetch={true}\n                onClick={handleBreadcrumbClick}\n                className=\"text-sm text-muted-foreground hover:text-foreground transition-colors\"\n              >\n                {crumb.label}\n              </Link>\n            ) : (\n              <span className=\"font-semibold text-foreground text-sm\">\n                {crumb.label}\n              </span>\n            )}\n            {index < breadcrumbs.length - 1 && (\n              <span className=\"text-muted-foreground\">/</span>\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  // Use store context if it's not the default, otherwise use URL-based fallback\n  const displayText =\n    contextText !== \"Dashboard\" ? contextText : defaultContext;\n\n  return (\n    <span className=\"font-semibold text-foreground text-sm\">{displayText}</span>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,sCAAsC;AACtC,MAAM,oBAA4C;IAChD,cAAc;IACd,4BAA4B;IAC5B,2BAA2B;IAC3B,4BAA4B;IAC5B,mBAAmB;IACnB,kBAAkB;AACpB;AAEO,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,IAAA,wJAAc;IACnD,MAAM,WAAW,IAAA,wJAAc,EAAC,CAAC,QAAU,MAAM,QAAQ;IAEzD,MAAM,wBAAwB;QAC5B,wCAAwC;QACxC;IACF;IAEA,sCAAsC;IACtC,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,gCAAgC;QAChC,IAAI,iBAAiB,CAAC,SAAS,EAAE;YAC/B,OAAO,iBAAiB,CAAC,SAAS;QACpC;QAEA,wBAAwB;QACxB,IAAI,SAAS,UAAU,CAAC,oBAAoB;YAC1C,OAAO;QACT;QACA,IAAI,SAAS,UAAU,CAAC,qBAAqB;YAC3C,OAAO;QACT;QACA,IAAI,SAAS,UAAU,CAAC,oBAAoB;YAC1C,OAAO;QACT;QAEA,mBAAmB;QACnB,OAAO;IACT,GAAG;QAAC;KAAS;IAEb,uCAAuC;IACvC,IAAI,eAAe,YAAY,MAAM,GAAG,GAAG;QACzC,qBACE,8OAAC;YAAI,WAAU;sBACZ,YAAY,GAAG,CAAC,CAAC,OAAO,sBACvB,8OAAC;oBAAgB,WAAU;;wBACxB,MAAM,IAAI,iBACT,8OAAC,uKAAI;4BACH,MAAM,MAAM,IAAI;4BAChB,UAAU;4BACV,SAAS;4BACT,WAAU;sCAET,MAAM,KAAK;;;;;iDAGd,8OAAC;4BAAK,WAAU;sCACb,MAAM,KAAK;;;;;;wBAGf,QAAQ,YAAY,MAAM,GAAG,mBAC5B,8OAAC;4BAAK,WAAU;sCAAwB;;;;;;;mBAhBlC;;;;;;;;;;IAsBlB;IAEA,8EAA8E;IAC9E,MAAM,cACJ,gBAAgB,cAAc,cAAc;IAE9C,qBACE,8OAAC;QAAK,WAAU;kBAAyC;;;;;;AAE7D"}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/utils/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY!,\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AACO,SAAS;IACd,OAAO,IAAA,iMAAmB;AAI5B"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/app/%28auth%29/client.ts"],"sourcesContent":["\"use client\";\n\nimport { createClient } from \"@/utils/supabase/client\";\n\nexport async function signInWithProvider(provider: \"github\" | \"gitlab\") {\n  const supabase = createClient();\n\n  const { data, error } = await supabase.auth.signInWithOAuth({\n    provider,\n    options: {\n      redirectTo: `${process.env.NEXT_PUBLIC_APP_URL}/api/auth/callback`,\n    },\n  });\n\n  if (error) {\n    console.error(`Error signing in with ${provider}:`, error.message);\n  } else if (data?.url) {\n    window.location.href = data.url; // Redirect to the providerâ€™s OAuth page\n  }\n}\n\nexport async function signOut() {\n  const supabase = createClient();\n  const { error } = await supabase.auth.signOut();\n\n  if (error) {\n    console.error(\"Error signing out:\", error.message);\n    return;\n  }\n\n  window.location.href = \"/\";\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;AAIO,eAAe,mBAAmB,QAA6B;IACpE,MAAM,WAAW,IAAA,kJAAY;IAE7B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,eAAe,CAAC;QAC1D;QACA,SAAS;YACP,YAAY,6DAAmC,kBAAkB,CAAC;QACpE;IACF;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,CAAC,sBAAsB,EAAE,SAAS,CAAC,CAAC,EAAE,MAAM,OAAO;IACnE,OAAO,IAAI,MAAM,KAAK;QACpB,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG,EAAE,wCAAwC;IAC3E;AACF;AAEO,eAAe;IACpB,MAAM,WAAW,IAAA,kJAAY;IAC7B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE7C,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,sBAAsB,MAAM,OAAO;QACjD;IACF;IAEA,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB"}},
    {"offset": {"line": 387, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/dashboard/navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { NavContext } from \"./navcontext\";\nimport Image from \"next/image\";\nimport { signOut } from \"@/app/(auth)/client\";\nimport { useRouter } from \"next/navigation\";\nimport { motion } from \"framer-motion\";\n\nexport function DashboardNavbar() {\n  const router = useRouter();\n  return (\n    <header className=\"w-full bg-background border-b border-border\">\n      <div className=\"flex h-13 *:items-center justify-between px-5\">\n        <div className=\"flex items-center flex-row gap-5 hover:cursor-pointer\">\n          {/*Replace this with our logo */}\n          <motion.div\n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.95 }}\n            transition={{ type: \"spring\", stiffness: 400, damping: 17 }}\n          >\n            <Image\n              src=\"/codecompass.png\"\n              alt=\"Logo\"\n              width={40}\n              height={40}\n              className=\"h-10 w-10\"\n              onClick={() => {\n                router.push(\"/dashboard/organizations\");\n              }}\n            />\n          </motion.div>\n          <div className=\"font-extralight text-lg text-input\">/</div>\n          <NavContext />\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"outline\" size=\"sm\" onClick={signOut}>\n            Sign Out\n          </Button>\n          <Button variant=\"default\" size=\"sm\">\n            Profile\n          </Button>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC,oMAAM,CAAC,GAAG;4BACT,YAAY;gCAAE,OAAO;4BAAI;4BACzB,UAAU;gCAAE,OAAO;4BAAK;4BACxB,YAAY;gCAAE,MAAM;gCAAU,WAAW;gCAAK,SAAS;4BAAG;sCAE1D,cAAA,8OAAC,wIAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,SAAS;oCACP,OAAO,IAAI,CAAC;gCACd;;;;;;;;;;;sCAGJ,8OAAC;4BAAI,WAAU;sCAAqC;;;;;;sCACpD,8OAAC,2JAAU;;;;;;;;;;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAM;4BAAC,SAAQ;4BAAU,MAAK;4BAAK,SAAS,2IAAO;sCAAE;;;;;;sCAGtD,8OAAC,4IAAM;4BAAC,SAAQ;4BAAU,MAAK;sCAAK;;;;;;;;;;;;;;;;;;;;;;;AAO9C"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/dashboard/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, createContext, useContext } from \"react\";\nimport { motion } from \"motion/react\";\nimport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n} from \"@/components/ui/dropdown-menu\";\nimport { ChevronDown } from \"lucide-react\";\n\n// Context to share sidebar state with SidebarItems\nconst SidebarContext = createContext<{ isExpanded: boolean }>({\n  isExpanded: false,\n});\n\nexport function Sidebar({ children }: { children: React.ReactNode }) {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <SidebarContext.Provider value={{ isExpanded: isHovered }}>\n      <motion.aside\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        animate={{ width: isHovered ? 200 : 60 }}\n        transition={{ type: \"spring\", stiffness: 300, damping: 25 }}\n        className=\"h-screen bg-background border-r border-border flex flex-col overflow-hidden\"\n      >\n        <div className=\"flex flex-col items-center w-full\">\n          <div className=\"flex flex-col gap-1 mt-4 w-full px-2\">{children}</div>\n        </div>\n      </motion.aside>\n    </SidebarContext.Provider>\n  );\n}\n\n// Hook to access sidebar state\nexport function useSidebar() {\n  return useContext(SidebarContext);\n}\n\n// Sidebar item that shows icon when collapsed, icon + label when expanded\nexport function SidebarItem({\n  icon,\n  label,\n  action,\n  disabled = false,\n}: {\n  icon: React.ReactNode;\n  label: string;\n  action?: () => void;\n  disabled?: boolean;\n}) {\n  const { isExpanded } = useSidebar();\n\n  const handleClick = () => {\n    if (!disabled && action) {\n      action();\n    }\n  };\n\n  return (\n    <motion.div\n      layout\n      transition={{ duration: 0.3, ease: \"easeInOut\" }}\n      onClick={handleClick}\n      className={`flex items-center gap-3 px-3 py-2 rounded-md transition-colors w-full ${\n        disabled\n          ? \"opacity-50 cursor-not-allowed\"\n          : \"hover:bg-muted cursor-pointer\"\n      }`}\n    >\n      <div className=\"shrink-0 w-6 h-6 flex items-center justify-center\">\n        {icon}\n      </div>\n      {isExpanded && (\n        <motion.span\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          whileHover={disabled ? {} : { x: 4 }}\n          transition={{ duration: 0.3 }}\n          className=\"text-sm text-foreground truncate whitespace-nowrap\"\n        >\n          {label}\n        </motion.span>\n      )}\n    </motion.div>\n  );\n}\n\n// Sidebar dropdown item with submenu\nexport function SidebarDropdownItem({\n  icon,\n  label,\n  items,\n}: {\n  icon: React.ReactNode;\n  label: string;\n  items: Array<{\n    label: string;\n    icon?: React.ReactNode;\n    action: () => void;\n  }>;\n}) {\n  const { isExpanded: sideBarExpanded } = useSidebar();\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <div className=\"flex items-center gap-3 px-3 py-2 hover:bg-muted rounded-md cursor-pointer transition-colors w-full\">\n          <div className=\"shrink-0 w-6 h-6 flex items-center justify-center\">\n            {icon}\n          </div>\n          {sideBarExpanded && (\n            <>\n              <motion.span\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{ duration: 0.3 }}\n                whileHover={{ x: 4 }}\n                className=\"text-sm text-foreground truncate whitespace-nowrap flex-1\"\n              >\n                {label}\n              </motion.span>\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{ duration: 0.2 }}\n              >\n                <ChevronDown className=\"h-4 w-4 shrink-0 opacity-50\" />\n              </motion.div>\n            </>\n          )}\n        </div>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent side=\"bottom\" align=\"start\" className=\"w-48\">\n        {items.map((item, index) => (\n          <DropdownMenuItem key={index} onClick={item.action}>\n            {item.icon && <span className=\"mr-2\">{item.icon}</span>}\n            {item.label}\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAMA;AAVA;;;;;;AAYA,mDAAmD;AACnD,MAAM,+BAAiB,IAAA,sNAAa,EAA0B;IAC5D,YAAY;AACd;AAEO,SAAS,QAAQ,EAAE,QAAQ,EAAiC;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,qBACE,8OAAC,eAAe,QAAQ;QAAC,OAAO;YAAE,YAAY;QAAU;kBACtD,cAAA,8OAAC,oMAAM,CAAC,KAAK;YACX,cAAc,IAAM,aAAa;YACjC,cAAc,IAAM,aAAa;YACjC,SAAS;gBAAE,OAAO,YAAY,MAAM;YAAG;YACvC,YAAY;gBAAE,MAAM;gBAAU,WAAW;gBAAK,SAAS;YAAG;YAC1D,WAAU;sBAEV,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BAAwC;;;;;;;;;;;;;;;;;;;;;AAKjE;AAGO,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB;AAGO,SAAS,YAAY,EAC1B,IAAI,EACJ,KAAK,EACL,MAAM,EACN,WAAW,KAAK,EAMjB;IACC,MAAM,EAAE,UAAU,EAAE,GAAG;IAEvB,MAAM,cAAc;QAClB,IAAI,CAAC,YAAY,QAAQ;YACvB;QACF;IACF;IAEA,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,MAAM;QACN,YAAY;YAAE,UAAU;YAAK,MAAM;QAAY;QAC/C,SAAS;QACT,WAAW,CAAC,sEAAsE,EAChF,WACI,kCACA,iCACJ;;0BAEF,8OAAC;gBAAI,WAAU;0BACZ;;;;;;YAEF,4BACC,8OAAC,oMAAM,CAAC,IAAI;gBACV,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,MAAM;oBAAE,SAAS;gBAAE;gBACnB,YAAY,WAAW,CAAC,IAAI;oBAAE,GAAG;gBAAE;gBACnC,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;0BAET;;;;;;;;;;;;AAKX;AAGO,SAAS,oBAAoB,EAClC,IAAI,EACJ,KAAK,EACL,KAAK,EASN;IACC,MAAM,EAAE,YAAY,eAAe,EAAE,GAAG;IAExC,qBACE,8OAAC,4JAAY;;0BACX,8OAAC,mKAAmB;gBAAC,OAAO;0BAC1B,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACZ;;;;;;wBAEF,iCACC;;8CACE,8OAAC,oMAAM,CAAC,IAAI;oCACV,SAAS;wCAAE,SAAS;oCAAE;oCACtB,SAAS;wCAAE,SAAS;oCAAE;oCACtB,MAAM;wCAAE,SAAS;oCAAE;oCACnB,YAAY;wCAAE,UAAU;oCAAI;oCAC5B,YAAY;wCAAE,GAAG;oCAAE;oCACnB,WAAU;8CAET;;;;;;8CAEH,8OAAC,oMAAM,CAAC,GAAG;oCACT,SAAS;wCAAE,SAAS;oCAAE;oCACtB,SAAS;wCAAE,SAAS;oCAAE;oCACtB,MAAM;wCAAE,SAAS;oCAAE;oCACnB,YAAY;wCAAE,UAAU;oCAAI;8CAE5B,cAAA,8OAAC,mOAAW;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAMjC,8OAAC,mKAAmB;gBAAC,MAAK;gBAAS,OAAM;gBAAQ,WAAU;0BACxD,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC,gKAAgB;wBAAa,SAAS,KAAK,MAAM;;4BAC/C,KAAK,IAAI,kBAAI,8OAAC;gCAAK,WAAU;0CAAQ,KAAK,IAAI;;;;;;4BAC9C,KAAK,KAAK;;uBAFU;;;;;;;;;;;;;;;;AAQjC"}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,yHAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1058, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/lib/services/repoService.ts"],"sourcesContent":["\"use server\";\n\nimport { createClient } from \"@/utils/supabase/server\";\nimport {\n  Repo,\n  Documentation,\n  DocPage,\n  Conversation,\n  ConversationMessage,\n  CodeSnippet,\n} from \"@/app/types/supabase\";\nimport { ActionResult } from \"@/app/types/action\";\nimport {\n  verifyGithubRepoAccess,\n  verifyGitLabRepoAccess,\n} from \"./gitProviderService\";\n\n// Helper function to parse GitHub URLs\nfunction parseGitHubUrl(url: string): { owner: string; repo: string } {\n  try {\n    // Handle multiple formats:\n    // - https://github.com/owner/repo\n    // - https://github.com/owner/repo.git\n    // - git@github.com:owner/repo.git\n\n    url = url.trim().replace(/\\.git$/, \"\");\n\n    if (url.includes(\"github.com/\")) {\n      const parts = url.split(\"github.com/\")[1].split(\"/\");\n      return { owner: parts[0], repo: parts[1] };\n    }\n\n    if (url.startsWith(\"git@github.com:\")) {\n      const parts = url.replace(\"git@github.com:\", \"\").split(\"/\");\n      return { owner: parts[0], repo: parts[1] };\n    }\n\n    return { owner: \"\", repo: \"\" };\n  } catch (error) {\n    return { owner: \"\", repo: \"\" };\n  }\n}\n\n// Helper function to parse GitLab URLs\nfunction parseGitLabUrl(url: string): { owner: string; repo: string } {\n  try {\n    // Handle multiple formats:\n    // - https://gitlab.com/owner/repo\n    // - https://gitlab.com/owner/subgroup/repo\n    // - https://gitlab.com/owner/repo.git\n    // - git@gitlab.com:owner/repo.git\n    // - Self-hosted: https://gitlab.example.com/owner/repo\n\n    url = url.trim().replace(/\\.git$/, \"\");\n\n    // Handle HTTPS URLs (gitlab.com or self-hosted)\n    if (url.includes(\"gitlab.com/\") || /gitlab\\.[^/]+\\//.test(url)) {\n      // Extract the path after the domain\n      const match = url.match(/gitlab[^/]*\\/(.+)/);\n      if (match) {\n        const pathParts = match[1].split(\"/\");\n        // GitLab supports nested groups, so we need to handle:\n        // - owner/repo (2 parts)\n        // - owner/subgroup/repo (3+ parts)\n        if (pathParts.length >= 2) {\n          // Take everything except the last part as owner/group\n          const repo = pathParts[pathParts.length - 1];\n          const owner = pathParts.slice(0, -1).join(\"/\");\n          return { owner, repo };\n        }\n      }\n    }\n\n    // Handle SSH URLs\n    if (url.startsWith(\"git@gitlab.com:\") || /git@gitlab\\.[^:]+:/.test(url)) {\n      const match = url.match(/git@gitlab[^:]*:(.+)/);\n      if (match) {\n        const pathParts = match[1].split(\"/\");\n        if (pathParts.length >= 2) {\n          const repo = pathParts[pathParts.length - 1];\n          const owner = pathParts.slice(0, -1).join(\"/\");\n          return { owner, repo };\n        }\n      }\n    }\n\n    return { owner: \"\", repo: \"\" };\n  } catch (error) {\n    return { owner: \"\", repo: \"\" };\n  }\n}\n\nexport async function getReposByOrganizationId(\n  organizationId: string,\n): Promise<ActionResult<Repo[]>> {\n  const client = await createClient();\n\n  const user = client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data, error } = await client\n    .from(\"repositories\")\n    .select(\"*\")\n    .eq(\"organization_id\", organizationId);\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: (data ?? []) as Repo[] };\n}\n\nexport async function createRepoViaGithub(\n  formData: FormData,\n  orgId: string,\n): Promise<ActionResult<Repo | undefined>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const name = formData.get(\"name\") as string;\n  const provider = formData.get(\"type\") as string;\n  const url = formData.get(\"github-url\") as string;\n\n  if (!name) {\n    return { success: false, error: \"Name is required!\" };\n  }\n\n  const { data: installation } = await client\n    .from(\"github_installations\")\n    .select(\"*\")\n    .eq(\"installed_by\", user.id)\n    .single();\n\n  if (!installation) {\n    // No GitHub App installation - prompt user to install\n    return {\n      success: false,\n      error: \"Installation Needed\",\n    };\n  }\n\n  //parse url for owner and repo\n  const { owner, repo: repoName } = parseGitHubUrl(url);\n\n  const hasAccess = await verifyGithubRepoAccess(\n    installation.id,\n    owner,\n    repoName,\n  );\n\n  if (!hasAccess) {\n    return {\n      success: false,\n      error: \"Access Denied\",\n    };\n  }\n\n  const { data: repo, error: repoError } = await client\n    .from(\"repositories\")\n    .insert({\n      name,\n      provider,\n      repo_url: url,\n      organization_id: orgId,\n      indexed_by: user.id,\n      index_status: \"not indexed\",\n    })\n    .select()\n    .single();\n\n  if (repoError) {\n    return { success: false, error: repoError.message };\n  }\n\n  return { success: true, data: repo as Repo };\n}\n\nexport async function createRepoViaGitlab(\n  formData: FormData,\n  orgId: string,\n): Promise<ActionResult<Repo | undefined>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const name = formData.get(\"name\") as string;\n  const provider = formData.get(\"type\") as string;\n  const url = formData.get(\"gitlab-url\") as string;\n\n  // Validate inputs\n  if (!name || name.trim() === \"\") {\n    return { success: false, error: \"Repository name is required\" };\n  }\n\n  if (!url || url.trim() === \"\") {\n    return { success: false, error: \"GitLab URL is required\" };\n  }\n\n  const { data: installation } = await client\n    .from(\"gitlab_installations\")\n    .select(\"*\")\n    .eq(\"installed_by\", user.id)\n    .single();\n\n  if (!installation) {\n    return { success: false, error: \"Installation Needed\" };\n  }\n\n  const { owner, repo: repoName } = parseGitLabUrl(url);\n\n  //verify access\n  const hasAccess = await verifyGitLabRepoAccess(\n    installation.access_token,\n    owner,\n    repoName,\n  );\n\n  if (!hasAccess) {\n    if (installation.access_token) {\n      return {\n        success: false,\n        error: \"Access required!\",\n      };\n    }\n\n    return {\n      success: false,\n      error: \"Access denied!\",\n    };\n  }\n\n  const { data: repo, error: repoError } = await client\n    .from(\"repositories\")\n    .insert({\n      name,\n      provider,\n      repo_url: url,\n      organization_id: orgId,\n      indexed_by: user.id,\n      index_status: \"not indexed\",\n    })\n    .select()\n    .single();\n\n  if (repoError) {\n    return { success: false, error: repoError.message };\n  }\n\n  return { success: true, data: repo };\n}\n\nexport async function createRepoViaLocalFile(\n  formData: FormData,\n  orgId: string,\n): Promise<ActionResult<Repo>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const name = formData.get(\"name\") as string;\n  const file = formData.get(\"file\") as File;\n\n  // Validate inputs\n  if (!name || name.trim() === \"\") {\n    return { success: false, error: \"Repository name is required\" };\n  }\n\n  if (!file) {\n    return { success: false, error: \"File is required\" };\n  }\n\n  // Validate file type\n  if (!file.name.endsWith(\".zip\")) {\n    return { success: false, error: \"Only .zip files are allowed\" };\n  }\n\n  // Validate file size (max 100MB)\n  const maxSize = 100 * 1024 * 1024; // 100MB in bytes\n  if (file.size > maxSize) {\n    return {\n      success: false,\n      error: \"File size exceeds 100MB limit\",\n    };\n  }\n\n  try {\n    // Generate a unique file name to prevent collisions\n    const timestamp = Date.now();\n    const sanitizedName = name.trim().replace(/[^a-z0-9-_]/gi, \"_\");\n    const fileName = `${sanitizedName}_${timestamp}_${file.name}`;\n    const filePath = `${orgId}/${fileName}`;\n\n    // Upload file to Supabase Storage\n    const { error: uploadError } = await client.storage\n      .from(\"local_repos\")\n      .upload(filePath, file, {\n        contentType: \"application/zip\",\n        upsert: false,\n      });\n\n    if (uploadError) {\n      console.error(\"Upload error:\", uploadError);\n      return {\n        success: false,\n        error: `File upload failed: ${uploadError.message}`,\n      };\n    }\n\n    // Get the public URL for the uploaded file\n    const { data: urlData } = client.storage\n      .from(\"local_repos\")\n      .getPublicUrl(filePath);\n\n    // Create repository record in database\n    const { data: repo, error: repoError } = await client\n      .from(\"repositories\")\n      .insert({\n        name: name.trim(),\n        provider: \"local\",\n        repo_url: null,\n        object_url: urlData.publicUrl,\n        organization_id: orgId,\n        indexed_by: user.id,\n        index_status: \"not indexed\",\n      })\n      .select()\n      .single();\n\n    if (repoError) {\n      console.error(\"Repository creation error:\", repoError);\n      // Attempt to clean up uploaded file\n      await client.storage.from(\"local_repos\").remove([filePath]);\n      return {\n        success: false,\n        error: `Repository creation failed: ${repoError.message}`,\n      };\n    }\n\n    return { success: true, data: repo as Repo };\n  } catch (error) {\n    console.error(\"Unexpected error:\", error);\n    return {\n      success: false,\n      error:\n        error instanceof Error ? error.message : \"An unexpected error occurred\",\n    };\n  }\n}\n\n// ============================================================================\n// Repository Management Services\n// ============================================================================\n\nexport async function getRepoWithStatus(\n  repoId: string,\n): Promise<ActionResult<Repo>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: repo, error } = await client\n    .from(\"repositories\")\n    .select(\"*\")\n    .eq(\"id\", repoId)\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  if (!repo) {\n    return { success: false, error: \"Repository not found\" };\n  }\n\n  return { success: true, data: repo as Repo };\n}\n\ntype UpdateData = {\n  name?: string;\n  repo_url?: string;\n  object_url?: string;\n  index_status?: string;\n};\n\nexport async function updateRepoSettings(\n  repoId: string,\n  settings: { name?: string; repo_url?: string; file?: File },\n): Promise<ActionResult<Repo>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  // Get the current repo to check its provider type\n  const { data: currentRepo } = await client\n    .from(\"repositories\")\n    .select(\"*\")\n    .eq(\"id\", repoId)\n    .single();\n\n  if (!currentRepo) {\n    return { success: false, error: \"Repository not found!\" };\n  }\n\n  const updateData: UpdateData = {};\n\n  // Handle name update\n  if (settings.name) {\n    updateData.name = settings.name;\n  }\n\n  // Handle GitHub URL update\n  if (settings.repo_url && currentRepo.provider === \"github\") {\n    const { owner, repo } = parseGitHubUrl(settings.repo_url);\n\n    if (!owner || !repo) {\n      return { success: false, error: \"Invalid GitHub URL format!\" };\n    }\n\n    // Verify access to the new repo\n    const { data: installation } = await client\n      .from(\"github_installations\")\n      .select(\"*\")\n      .eq(\"installed_by\", user.id)\n      .single();\n\n    if (!installation) {\n      return { success: false, error: \"GitHub App not installed!\" };\n    }\n\n    const hasAccess = await verifyGithubRepoAccess(\n      installation.installation_id.toString(),\n      owner,\n      repo,\n    );\n\n    if (!hasAccess) {\n      return {\n        success: false,\n        error:\n          \"Cannot access this repository. Make sure the GitHub App is installed for this repository.\",\n      };\n    }\n\n    updateData.repo_url = settings.repo_url;\n    updateData.index_status = \"not indexed\"; // Trigger re-indexing\n  }\n\n  // Handle local file upload\n  if (settings.file && currentRepo.provider === \"local\") {\n    const file = settings.file;\n    const fileExt = file.name.split(\".\").pop();\n\n    if (fileExt !== \"zip\") {\n      return { success: false, error: \"Only .zip files are allowed!\" };\n    }\n\n    // Upload to Supabase Storage\n    const fileName = `${repoId}-${Date.now()}.zip`;\n    const { data: uploadData, error: uploadError } = await client.storage\n      .from(\"local_repos\")\n      .upload(fileName, file);\n\n    if (uploadError) {\n      console.error(uploadError);\n      return { success: false, error: \"Failed to upload file!\" };\n    }\n\n    // Get public URL\n    const { data: urlData } = client.storage\n      .from(\"local_repos\")\n      .getPublicUrl(fileName);\n\n    updateData.object_url = urlData.publicUrl;\n    updateData.index_status = \"pending\"; // Trigger re-indexing\n  }\n\n  // Update the repository\n  const { data: repo, error } = await client\n    .from(\"repositories\")\n    .update(updateData)\n    .eq(\"id\", repoId)\n    .select()\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: repo as Repo };\n}\n\nexport async function deleteRepo(\n  repoId: string,\n): Promise<ActionResult<{ organizationId: string }>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  // Fetch the organization_id before deleting\n  const { data: repo, error: repoError } = await client\n    .from(\"repositories\")\n    .select(\"organization_id\")\n    .eq(\"id\", repoId)\n    .single();\n\n  if (repoError) {\n    console.error(repoError);\n    return { success: false, error: repoError.message };\n  }\n\n  if (!repo) {\n    return { success: false, error: \"Repository not found\" };\n  }\n\n  const { error } = await client.from(\"repositories\").delete().eq(\"id\", repoId);\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: { organizationId: repo.organization_id } };\n}\n\nexport async function triggerReindex(\n  repoId: string,\n): Promise<ActionResult<void>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  // Update the index_status to 'pending' to trigger reindexing\n  const { error } = await client\n    .from(\"repositories\")\n    .update({ index_status: \"pending\" })\n    .eq(\"id\", repoId);\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  // TODO: Trigger actual indexing job/webhook/queue here\n  // This could be an API call to your indexing service\n\n  return { success: true, data: undefined };\n}\n\n// ============================================================================\n// Documentation Services\n// ============================================================================\n\nexport async function getDocumentation(\n  repoId: string,\n): Promise<ActionResult<Documentation>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: documentation, error } = await client\n    .from(\"documentation\")\n    .select(\"*\")\n    .eq(\"repo_id\", repoId)\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  if (!documentation) {\n    return { success: false, error: \"Documentation not found\" };\n  }\n\n  return { success: true, data: documentation as Documentation };\n}\n\nexport async function getDocPages(\n  repoId: string,\n): Promise<ActionResult<DocPage[]>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  // Get the latest documentation version for this repo\n  const { data: documentation, error: docError } = await client\n    .from(\"documentation\")\n    .select(\"id\")\n    .eq(\"repo_id\", repoId)\n    .order(\"version\", { ascending: false })\n    .limit(1)\n    .single();\n\n  if (docError || !documentation) {\n    console.error(docError);\n    return { success: false, error: \"Documentation not found\" };\n  }\n\n  const { data: pages, error } = await client\n    .from(\"pages\")\n    .select(\"*\")\n    .eq(\"documentation_id\", documentation.id)\n    .order(\"order_index\", { ascending: true });\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: (pages ?? []) as DocPage[] };\n}\n\nexport async function getDocPageById(\n  pageId: string,\n): Promise<ActionResult<DocPage>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: page, error } = await client\n    .from(\"doc_pages\")\n    .select(\"*\")\n    .eq(\"id\", pageId)\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  if (!page) {\n    return { success: false, error: \"Page not found\" };\n  }\n\n  return { success: true, data: page as DocPage };\n}\n\nexport async function getDocPagesHierarchical(\n  repoId: string,\n): Promise<ActionResult<DocPage[]>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  // First get the documentation ID for this repo\n  const { data: documentation, error: docError } = await client\n    .from(\"documentation\")\n    .select(\"id\")\n    .eq(\"repo_id\", repoId)\n    .single();\n\n  if (docError || !documentation) {\n    console.error(docError);\n    return { success: false, error: \"Documentation not found\" };\n  }\n\n  const { data: pages, error } = await client\n    .from(\"doc_pages\")\n    .select(\"*\")\n    .eq(\"documentation_id\", documentation.id)\n    .order(\"order_index\", { ascending: true });\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  // Pages are already sorted by order_index\n  // The parent_page_id field maintains the hierarchy\n  // Frontend can use this to render the tree structure\n  return { success: true, data: (pages ?? []) as DocPage[] };\n}\n\n/**\n * Get all documentation versions for a repository\n */\nexport async function getDocumentationVersions(\n  repoId: string,\n): Promise<ActionResult<Documentation[]>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: versions, error } = await client\n    .from(\"documentation\")\n    .select(\"*\")\n    .eq(\"repo_id\", repoId)\n    .order(\"version\", { ascending: false });\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: (versions ?? []) as Documentation[] };\n}\n\n/**\n * Get the latest completed documentation version for a repository\n */\nexport async function getLatestDocumentation(\n  repoId: string,\n): Promise<ActionResult<Documentation>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: documentation, error } = await client\n    .from(\"documentation\")\n    .select(\"*\")\n    .eq(\"repo_id\", repoId)\n    .order(\"version\", { ascending: false })\n    .limit(1)\n    .single();\n\n  if (!documentation) {\n    return { success: false, error: \"Documentation not found\" };\n  }\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: documentation as Documentation };\n}\n\n/**\n * Get documentation pages for a specific version\n */\nexport async function getDocPagesForVersion(\n  repoId: string,\n  version: number,\n): Promise<ActionResult<DocPage[]>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  // Get the documentation record for this version\n  const { data: documentation, error: docError } = await client\n    .from(\"documentation\")\n    .select(\"id\")\n    .eq(\"repo_id\", repoId)\n    .eq(\"version\", version)\n    .single();\n\n  if (docError || !documentation) {\n    return { success: false, error: \"Documentation version not found\" };\n  }\n\n  const { data: pages, error } = await client\n    .from(\"pages\")\n    .select(\"*\")\n    .eq(\"documentation_id\", documentation.id)\n    .order(\"order_index\", { ascending: true });\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: (pages ?? []) as DocPage[] };\n}\n\n// ============================================================================\n// Conversation Services\n// ============================================================================\n\nexport async function getConversations(\n  repoId: string,\n  limit: number = 20,\n  version: number | null = null,\n): Promise<ActionResult<Conversation[]>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  let query = client\n    .from(\"conversations\")\n    .select(\"*\")\n    .eq(\"repo_id\", repoId)\n    .eq(\"user_id\", user.id);\n\n  // Filter by version if specified\n  if (version !== null && version !== undefined) {\n    query = query.eq(\"repo_version\", version);\n  }\n\n  const { data: conversations, error } = await query\n    .order(\"updated_at\", { ascending: false })\n    .limit(limit);\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: (conversations ?? []) as Conversation[] };\n}\n\nexport async function getConversationById(\n  conversationId: string,\n): Promise<ActionResult<Conversation>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: conversation, error } = await client\n    .from(\"conversations\")\n    .select(\"*\")\n    .eq(\"id\", conversationId)\n    .eq(\"user_id\", user.id)\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  if (!conversation) {\n    return { success: false, error: \"Conversation not found\" };\n  }\n\n  return { success: true, data: conversation as Conversation };\n}\n\nexport async function createConversation(\n  repoId: string,\n  title?: string,\n  version?: number | null,\n): Promise<ActionResult<Conversation>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: conversation, error } = await client\n    .from(\"conversations\")\n    .insert({\n      repo_id: repoId,\n      user_id: user.id,\n      title: title || \"New Conversation\",\n      repo_version: version ?? null,\n    })\n    .select()\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: conversation as Conversation };\n}\n\nexport async function deleteConversation(\n  conversationId: string,\n): Promise<ActionResult<void>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { error } = await client\n    .from(\"conversations\")\n    .delete()\n    .eq(\"id\", conversationId)\n    .eq(\"user_id\", user.id);\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: undefined };\n}\n\nexport async function renameConversation(\n  conversationId: string,\n  newTitle: string,\n): Promise<ActionResult<Conversation>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: conversation, error } = await client\n    .from(\"conversations\")\n    .update({ title: newTitle })\n    .eq(\"id\", conversationId)\n    .eq(\"user_id\", user.id)\n    .select()\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: conversation as Conversation };\n}\n\n// ============================================================================\n// Message Services\n// ============================================================================\n\nexport async function getConversationMessages(\n  conversationId: string,\n): Promise<ActionResult<ConversationMessage[]>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: messages, error } = await client\n    .from(\"messages\")\n    .select(\"*\")\n    .eq(\"conversation_id\", conversationId)\n    .order(\"created_at\", { ascending: true });\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: (messages ?? []) as ConversationMessage[] };\n}\n\nexport async function createMessage(\n  conversationId: string,\n  role: \"user\" | \"assistant\",\n  content: string,\n): Promise<ActionResult<ConversationMessage>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: message, error } = await client\n    .from(\"messages\")\n    .insert({\n      conversation_id: conversationId,\n      role,\n      content,\n    })\n    .select()\n    .single();\n\n  if (error) {\n    console.error(error);\n    return { success: false, error: error.message };\n  }\n\n  // Update the conversation's updated_at timestamp\n  await client\n    .from(\"conversations\")\n    .update({ updated_at: new Date().toISOString() })\n    .eq(\"id\", conversationId);\n\n  return { success: true, data: message as ConversationMessage };\n}\n\nexport async function saveCodeSnippets(\n  conversationId: string,\n  messageId: string,\n  snippets: Array<{ file: string; code: string }>,\n): Promise<ActionResult<CodeSnippet[]>> {\n  const supabase = await createClient();\n\n  const snippetsToInsert = snippets.map((snippet) => ({\n    conversation_id: conversationId,\n    message_id: messageId,\n    file_path: snippet.file,\n    code_content: snippet.code,\n    language: snippet.file.split(\".\").pop() || null,\n  }));\n\n  const { data, error } = await supabase\n    .from(\"code_snippets\")\n    .insert(snippetsToInsert)\n    .select();\n\n  if (error) {\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: data as CodeSnippet[] };\n}\n\nexport async function getCodeSnippetsForConversation(\n  conversationId: string,\n): Promise<ActionResult<CodeSnippet[]>> {\n  const supabase = await createClient();\n\n  const { data, error } = await supabase\n    .from(\"code_snippets\")\n    .select(\"*\")\n    .eq(\"conversation_id\", conversationId)\n    .order(\"created_at\", { ascending: false });\n\n  if (error) {\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: data as CodeSnippet[] };\n}\n\nexport async function deleteCodeSnippet(\n  snippetId: string,\n): Promise<ActionResult<null>> {\n  const supabase = await createClient();\n\n  const { error } = await supabase\n    .from(\"code_snippets\")\n    .delete()\n    .eq(\"id\", snippetId);\n\n  if (error) {\n    return { success: false, error: error.message };\n  }\n\n  return { success: true, data: null };\n}\n\nexport async function indexRepository(\n  repoId: string,\n): Promise<ActionResult<void>> {\n  const client = await createClient();\n\n  const {\n    data: { user },\n  } = await client.auth.getUser();\n\n  if (!user) {\n    return { success: false, error: \"User not authenticated!\" };\n  }\n\n  const { data: installation, error: installationError } = await client\n    .from(\"github_installations\")\n    .select(\"*\")\n    .eq(\"installed_by\", user.id)\n    .single();\n\n  if (!installation || installationError) {\n    return { success: false, error: \"Github App Installation not found!\" };\n  }\n\n  //fetch repo\n\n  const repoResult = await getRepoWithStatus(repoId);\n\n  if (!repoResult.success) {\n    return { success: false, error: repoResult.error };\n  }\n\n  const repoUrl = repoResult.data.repo_url;\n  const installationId = installation.installation_id;\n\n  // Get the latest version number for this repo\n  const { data: latestDoc } = await client\n    .from(\"documentation\")\n    .select(\"version\")\n    .eq(\"repo_id\", repoId)\n    .order(\"version\", { ascending: false })\n    .limit(1)\n    .single();\n\n  // Increment version (start at 1 if no previous versions)\n  const nextVersion = (latestDoc?.version ?? 0) + 1;\n\n  //mark the repository as indexing in supabase first\n  const { error: updateError } = await client\n    .from(\"repositories\")\n    .update({ index_status: \"indexing\" })\n    .eq(\"id\", repoId);\n\n  if (updateError) {\n    console.error(updateError);\n    return { success: false, error: updateError.message };\n  }\n\n  // Call the backend to start indexing (fire-and-forget)\n  // Don't await or throw errors since this is a long-running operation\n  fetch(`${process.env.BACKEND_URL}/repos/index`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      repo_url: repoUrl,\n      repo_id: repoId,\n      user_id: user.id,\n      installation_id: installationId,\n      branch: \"main\",\n      version: nextVersion,\n    }),\n  }).catch((error) => {\n    // Log the error but don't fail the request\n    console.error(\"Indexing request failed:\", error);\n    // The backend should handle updating the repo status on failure\n  });\n\n  // Return success immediately - the indexing will happen in the background\n  return { success: true, data: undefined };\n}\n"],"names":[],"mappings":";;;;;;;IA21BsB,mBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 1070, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/dashboard/conversation-panel.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"motion/react\";\nimport { useChatUIStore } from \"@/lib/stores/useChatUIStore\";\nimport { useSidebar } from \"./sidebar\";\nimport { Conversation } from \"@/app/types/supabase\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { MessageSquare } from \"lucide-react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { getConversations } from \"@/lib/services/repoService\";\n\nexport default function ConversationPanel() {\n  const { isExpanded: sideBarExpanded } = useSidebar();\n  const {\n    isExpanded: chatExpanded,\n    conversation: selectedConversation,\n    repoId,\n    selectedVersion,\n  } = useChatUIStore();\n\n  // Fetch conversations using TanStack Query\n  const { data: conversations = [], isLoading } = useQuery({\n    queryKey: [\"conversations\", repoId, selectedVersion],\n    queryFn: async () => {\n      if (!repoId) return [];\n      const result = await getConversations(repoId, 20, selectedVersion);\n      if (!result.success) throw new Error(result.error);\n      return result.data;\n    },\n    enabled: !!repoId && chatExpanded,\n  });\n\n  const handleClick = (conversationId: string) => {\n    const selected = conversations.find(\n      (conversation) => conversation.id === conversationId,\n    );\n    useChatUIStore.setState({ conversation: selected });\n  };\n\n  if (!chatExpanded) return null;\n\n  if (!sideBarExpanded) return null;\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scaleY: 0 }}\n      animate={{ opacity: 1, scaleY: 1 }}\n      exit={{ opacity: 0, scaleY: 0 }}\n      transition={{ duration: 0.3, ease: \"easeInOut\" }}\n      style={{ overflow: \"hidden\", transformOrigin: \"top\" }}\n    >\n      {sideBarExpanded && (\n        <>\n          <div className=\"text-xs mb-2 px-2 text-muted-foreground\">Recents</div>\n          <Separator className=\"mb-2\" />\n        </>\n      )}\n\n      {isLoading ? (\n        <div className=\"flex items-center justify-center py-8\">\n          <p className=\"text-xs text-muted-foreground\">Loading...</p>\n        </div>\n      ) : conversations.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center py-8 px-4 text-center\">\n          <MessageSquare className=\"w-8 h-8 text-muted-foreground mb-2\" />\n          <p className=\"text-xs text-muted-foreground\">No conversations yet</p>\n          <p className=\"text-xs text-muted-foreground/60 mt-1\">\n            Start chatting to see your history\n          </p>\n        </div>\n      ) : (\n        conversations.map((conversation, index) => {\n          const isSelected = selectedConversation?.id === conversation.id;\n\n          return (\n            <motion.div\n              key={conversation.id}\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{\n                duration: 0.3,\n                delay: index * 0.05,\n                ease: \"easeOut\",\n              }}\n              onClick={() => handleClick(conversation.id)}\n              className={`flex items-center mb-0.5 px-2 py-2 rounded-md cursor-pointer transition-colors w-full ${\n                isSelected\n                  ? \"bg-accent/10 border-l-2 border-accent\"\n                  : \"hover:bg-muted border-l-2 border-transparent\"\n              }`}\n            >\n              {sideBarExpanded && (\n                <div\n                  className={`text-xs truncate ${isSelected ? \"text-accent font-medium\" : \"\"}`}\n                >\n                  {conversation.title}\n                </div>\n              )}\n            </motion.div>\n          );\n        })\n      )}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AATA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,EAAE,YAAY,eAAe,EAAE,GAAG,IAAA,wJAAU;IAClD,MAAM,EACJ,YAAY,YAAY,EACxB,cAAc,oBAAoB,EAClC,MAAM,EACN,eAAe,EAChB,GAAG,IAAA,wJAAc;IAElB,2CAA2C;IAC3C,MAAM,EAAE,MAAM,gBAAgB,EAAE,EAAE,SAAS,EAAE,GAAG,IAAA,uLAAQ,EAAC;QACvD,UAAU;YAAC;YAAiB;YAAQ;SAAgB;QACpD,SAAS;YACP,IAAI,CAAC,QAAQ,OAAO,EAAE;YACtB,MAAM,SAAS,MAAM,IAAA,kLAAgB,EAAC,QAAQ,IAAI;YAClD,IAAI,CAAC,OAAO,OAAO,EAAE,MAAM,IAAI,MAAM,OAAO,KAAK;YACjD,OAAO,OAAO,IAAI;QACpB;QACA,SAAS,CAAC,CAAC,UAAU;IACvB;IAEA,MAAM,cAAc,CAAC;QACnB,MAAM,WAAW,cAAc,IAAI,CACjC,CAAC,eAAiB,aAAa,EAAE,KAAK;QAExC,wJAAc,CAAC,QAAQ,CAAC;YAAE,cAAc;QAAS;IACnD;IAEA,IAAI,CAAC,cAAc,OAAO;IAE1B,IAAI,CAAC,iBAAiB,OAAO;IAE7B,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,MAAM;QACN,SAAS;YAAE,SAAS;YAAG,QAAQ;QAAE;QACjC,SAAS;YAAE,SAAS;YAAG,QAAQ;QAAE;QACjC,MAAM;YAAE,SAAS;YAAG,QAAQ;QAAE;QAC9B,YAAY;YAAE,UAAU;YAAK,MAAM;QAAY;QAC/C,OAAO;YAAE,UAAU;YAAU,iBAAiB;QAAM;;YAEnD,iCACC;;kCACE,8OAAC;wBAAI,WAAU;kCAA0C;;;;;;kCACzD,8OAAC,kJAAS;wBAAC,WAAU;;;;;;;;YAIxB,0BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;uBAE7C,cAAc,MAAM,KAAK,kBAC3B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yOAAa;wBAAC,WAAU;;;;;;kCACzB,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;kCAC7C,8OAAC;wBAAE,WAAU;kCAAwC;;;;;;;;;;;uBAKvD,cAAc,GAAG,CAAC,CAAC,cAAc;gBAC/B,MAAM,aAAa,sBAAsB,OAAO,aAAa,EAAE;gBAE/D,qBACE,8OAAC,oMAAM,CAAC,GAAG;oBAET,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAC9B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,YAAY;wBACV,UAAU;wBACV,OAAO,QAAQ;wBACf,MAAM;oBACR;oBACA,SAAS,IAAM,YAAY,aAAa,EAAE;oBAC1C,WAAW,CAAC,sFAAsF,EAChG,aACI,0CACA,gDACJ;8BAED,iCACC,8OAAC;wBACC,WAAW,CAAC,iBAAiB,EAAE,aAAa,4BAA4B,IAAI;kCAE3E,aAAa,KAAK;;;;;;mBAnBlB,aAAa,EAAE;;;;;YAwB1B;;;;;;;AAIR"}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/dashboard/dashboard-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { usePathname, useParams } from \"next/navigation\";\nimport { Sidebar, SidebarItem } from \"@/components/dashboard/sidebar\";\nimport {\n  FolderCode,\n  Building2,\n  Users,\n  Settings,\n  BookOpen,\n  MessageSquare,\n  MessageSquarePlus,\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useMemo } from \"react\";\nimport { useChatUIStore } from \"@/lib/stores/useChatUIStore\";\nimport ConversationPanel from \"./conversation-panel\";\n\nexport function DashboardSidebar() {\n  const pathname = usePathname();\n  const params = useParams();\n  const router = useRouter();\n  const { hasDocumentation } = useChatUIStore();\n\n  const { toggle, isExpanded: chatExpanded } = useChatUIStore();\n\n  // Access dynamic route parameters\n  const id = params.id as string | undefined;\n\n  // Determine the current context based on pathname patterns\n  const currentContext = useMemo(() => {\n    if (pathname.startsWith(\"/dashboard/organizations\")) {\n      return { type: \"organizations\", id };\n    }\n    if (pathname.startsWith(\"/dashboard/org/\") && id) {\n      return { type: \"org\", id };\n    }\n    if (pathname.startsWith(\"/dashboard/repo/\") && id) {\n      return { type: \"repository\", id };\n    }\n    return { type: \"default\", id: null };\n  }, [pathname, id]);\n\n  // Render different sidebar items based on context\n  const renderContextualItems = () => {\n    switch (currentContext.type) {\n      case \"organizations\":\n        return (\n          <>\n            <SidebarItem\n              icon={<Building2 className=\"h-4.5 w-4.5\" />}\n              label=\"Organizations\"\n              action={() => router.push(`/dashboard/organizations`)}\n            />\n          </>\n        );\n\n      case \"org\":\n        return (\n          <>\n            <SidebarItem\n              icon={<FolderCode className=\"h-4.5 w-4.5\" />}\n              label=\"Repositories\"\n              action={() => router.push(`/dashboard/org/${currentContext.id}`)}\n            />\n            <SidebarItem\n              icon={<Users className=\"h-4.5 w-4.5\" />}\n              label=\"Team\"\n              action={() =>\n                router.push(`/dashboard/org/${currentContext.id}/team`)\n              }\n            />\n            <SidebarItem\n              icon={<Settings className=\"h-4.5 w-4.5\" />}\n              label=\"Settings\"\n              action={() =>\n                router.push(`/dashboard/org/${currentContext.id}/settings`)\n              }\n            />\n          </>\n        );\n\n      case \"repository\":\n        return (\n          <>\n            <SidebarItem\n              icon={\n                chatExpanded || pathname.includes(\"/settings\") ? (\n                  <BookOpen className=\"h-4.5 w-4.5\" />\n                ) : (\n                  <MessageSquare className=\"h-4.5 w-4.5\" />\n                )\n              }\n              label={\n                chatExpanded || pathname.includes(\"/settings\")\n                  ? \"Documentation\"\n                  : \"Chat\"\n              }\n              action={() => {\n                // Navigate to repo page if not already there\n                if (pathname !== `/dashboard/repo/${currentContext.id}`) {\n                  router.push(`/dashboard/repo/${currentContext.id}`);\n                }\n                toggle();\n              }}\n              disabled={!hasDocumentation && !pathname.includes(\"/settings\")}\n            />\n            {!pathname.includes(\"/settings\") && chatExpanded && (\n              <SidebarItem\n                icon={<MessageSquarePlus className=\"h-4.5 w-4.5\" />}\n                label=\"New Message\"\n                action={() => {\n                  const { startNewConversation } = useChatUIStore.getState();\n                  startNewConversation();\n                }}\n              />\n            )}\n\n            {!pathname.includes(\"/settings\") && chatExpanded && (\n              <ConversationPanel />\n            )}\n            <SidebarItem\n              icon={<Settings className=\"h-4.5 w-4.5\" />}\n              label=\"Settings\"\n              action={() =>\n                router.push(`/dashboard/repo/${currentContext.id}/settings`)\n              }\n            />\n          </>\n        );\n\n      default:\n        return (\n          <>\n            <SidebarItem\n              icon={<Building2 className=\"h-4.5 w-4.5\" />}\n              label=\"Organizations\"\n              action={() => router.push(\"/dashboard/organizations\")}\n            />\n            <SidebarItem\n              icon={<Settings className=\"h-4.5 w-4.5\" />}\n              label=\"Settings\"\n              action={() => router.push(\"/dashboard/organizations\")}\n            />\n          </>\n        );\n    }\n  };\n\n  return <Sidebar>{renderContextualItems()}</Sidebar>;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1500, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/app/dashboard/dashboard-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, ReactNode } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { User } from \"@/app/types/supabase\";\n\ntype AuthContextType = {\n  user: User | null;\n  isLoading: boolean;\n  error: Error | null;\n};\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\ntype DashboardProviderProps = {\n  children: ReactNode;\n  initialUser: User | null;\n};\n\nexport function DashboardProvider({\n  children,\n  initialUser,\n}: DashboardProviderProps) {\n  const supabase = createClient();\n\n  const {\n    data: user,\n    isLoading,\n    error,\n  } = useQuery({\n    queryKey: [\"auth\", \"user\"],\n    queryFn: async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n      return user as User | null;\n    },\n    initialData: initialUser,\n    staleTime: 5 * 60 * 1000, // 5 minutes - user data rarely changes\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n  });\n\n  return (\n    <AuthContext.Provider value={{ user, isLoading, error: error as Error | null }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within DashboardProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAOxD,SAAS,kBAAkB,EAChC,QAAQ,EACR,WAAW,EACY;IACvB,MAAM,WAAW,IAAA,kJAAY;IAE7B,MAAM,EACJ,MAAM,IAAI,EACV,SAAS,EACT,KAAK,EACN,GAAG,IAAA,uLAAQ,EAAC;QACX,UAAU;YAAC;YAAQ;SAAO;QAC1B,SAAS;YACP,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;YAC/B,OAAO;QACT;QACA,aAAa;QACb,WAAW,IAAI,KAAK;QACpB,sBAAsB;QACtB,gBAAgB;IAClB;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAW,OAAO;QAAsB;kBAC1E;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 1556, "column": 0}, "map": {"version":3,"sources":["file:///home/mann/codecompass/src/components/dashboard/scroll-area.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { usePathname } from \"next/navigation\";\n\nexport function ScrollArea({ children }: { children: React.ReactNode }) {\n  const pathname = usePathname();\n  const mainRef = useRef<HTMLElement>(null);\n\n  useEffect(() => {\n    // Reset scroll position when pathname changes\n    if (mainRef.current) {\n      mainRef.current.scrollTop = 0;\n    }\n  }, [pathname]);\n\n  return (\n    <main ref={mainRef} className=\"flex-1 overflow-y-auto\">\n      {children}\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,WAAW,EAAE,QAAQ,EAAiC;IACpE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,UAAU,IAAA,+MAAM,EAAc;IAEpC,IAAA,kNAAS,EAAC;QACR,8CAA8C;QAC9C,IAAI,QAAQ,OAAO,EAAE;YACnB,QAAQ,OAAO,CAAC,SAAS,GAAG;QAC9B;IACF,GAAG;QAAC;KAAS;IAEb,qBACE,8OAAC;QAAK,KAAK;QAAS,WAAU;kBAC3B;;;;;;AAGP"}}]
}
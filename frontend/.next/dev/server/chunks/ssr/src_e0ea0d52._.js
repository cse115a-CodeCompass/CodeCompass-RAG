module.exports = [
"[project]/src/components/ui/label.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Label",
    ()=>Label
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$label$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@radix-ui/react-label/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
"use client";
;
;
;
function Label({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$label$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Root"], {
        "data-slot": "label",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/label.tsx",
        lineNumber: 13,
        columnNumber: 5
    }, this);
}
;
}),
"[project]/src/components/ui/field.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Field",
    ()=>Field,
    "FieldContent",
    ()=>FieldContent,
    "FieldDescription",
    ()=>FieldDescription,
    "FieldError",
    ()=>FieldError,
    "FieldGroup",
    ()=>FieldGroup,
    "FieldLabel",
    ()=>FieldLabel,
    "FieldLegend",
    ()=>FieldLegend,
    "FieldSeparator",
    ()=>FieldSeparator,
    "FieldSet",
    ()=>FieldSet,
    "FieldTitle",
    ()=>FieldTitle
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$class$2d$variance$2d$authority$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/class-variance-authority/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/label.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/separator.tsx [app-ssr] (ecmascript)");
"use client";
;
;
;
;
;
;
function FieldSet({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("fieldset", {
        "data-slot": "field-set",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("flex flex-col gap-6", "has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 12,
        columnNumber: 5
    }, this);
}
function FieldLegend({ className, variant = "legend", ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("legend", {
        "data-slot": "field-legend",
        "data-variant": variant,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("mb-3 font-medium", "data-[variant=legend]:text-base", "data-[variant=label]:text-sm", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 30,
        columnNumber: 5
    }, this);
}
function FieldGroup({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        "data-slot": "field-group",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 46,
        columnNumber: 5
    }, this);
}
const fieldVariants = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$class$2d$variance$2d$authority$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cva"])("group/field flex w-full gap-3 data-[invalid=true]:text-destructive", {
    variants: {
        orientation: {
            vertical: [
                "flex-col [&>*]:w-full [&>.sr-only]:w-auto"
            ],
            horizontal: [
                "flex-row items-center",
                "[&>[data-slot=field-label]]:flex-auto",
                "has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"
            ],
            responsive: [
                "flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto",
                "@md/field-group:[&>[data-slot=field-label]]:flex-auto",
                "@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"
            ]
        }
    },
    defaultVariants: {
        orientation: "vertical"
    }
});
function Field({ className, orientation = "vertical", ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        role: "group",
        "data-slot": "field",
        "data-orientation": orientation,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])(fieldVariants({
            orientation
        }), className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 87,
        columnNumber: 5
    }, this);
}
function FieldContent({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        "data-slot": "field-content",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("group/field-content flex flex-1 flex-col gap-1.5 leading-snug", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 99,
        columnNumber: 5
    }, this);
}
function FieldLabel({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Label"], {
        "data-slot": "field-label",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50", "has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4", "has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 115,
        columnNumber: 5
    }, this);
}
function FieldTitle({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        "data-slot": "field-label",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("flex w-fit items-center gap-2 text-sm leading-snug font-medium group-data-[disabled=true]/field:opacity-50", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 130,
        columnNumber: 5
    }, this);
}
function FieldDescription({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
        "data-slot": "field-description",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance", "last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5", "[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 143,
        columnNumber: 5
    }, this);
}
function FieldSeparator({ children, className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        "data-slot": "field-separator",
        "data-content": !!children,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2", className),
        ...props,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {
                className: "absolute inset-0 top-1/2"
            }, void 0, false, {
                fileName: "[project]/src/components/ui/field.tsx",
                lineNumber: 173,
                columnNumber: 7
            }, this),
            children && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "bg-background text-muted-foreground relative mx-auto block w-fit px-2",
                "data-slot": "field-separator-content",
                children: children
            }, void 0, false, {
                fileName: "[project]/src/components/ui/field.tsx",
                lineNumber: 175,
                columnNumber: 9
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 164,
        columnNumber: 5
    }, this);
}
function FieldError({ className, children, errors, ...props }) {
    const content = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        if (children) {
            return children;
        }
        if (!errors?.length) {
            return null;
        }
        if (errors?.length == 1) {
            return errors[0]?.message;
        }
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
            className: "ml-4 flex list-disc flex-col gap-1",
            children: errors.map((error, index)=>error?.message && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                    children: error.message
                }, index, false, {
                    fileName: "[project]/src/components/ui/field.tsx",
                    lineNumber: 211,
                    columnNumber: 31
                }, this))
        }, void 0, false, {
            fileName: "[project]/src/components/ui/field.tsx",
            lineNumber: 208,
            columnNumber: 7
        }, this);
    }, [
        children,
        errors
    ]);
    if (!content) {
        return null;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        role: "alert",
        "data-slot": "field-error",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("text-destructive text-sm font-normal", className),
        ...props,
        children: content
    }, void 0, false, {
        fileName: "[project]/src/components/ui/field.tsx",
        lineNumber: 222,
        columnNumber: 5
    }, this);
}
;
}),
"[project]/src/components/ui/input.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Input",
    ()=>Input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
;
;
function Input({ className, type, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
        type: type,
        "data-slot": "input",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]", "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/input.tsx",
        lineNumber: 7,
        columnNumber: 5
    }, this);
}
;
}),
"[project]/src/components/ui/select.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Select",
    ()=>Select,
    "SelectContent",
    ()=>SelectContent,
    "SelectGroup",
    ()=>SelectGroup,
    "SelectItem",
    ()=>SelectItem,
    "SelectLabel",
    ()=>SelectLabel,
    "SelectScrollDownButton",
    ()=>SelectScrollDownButton,
    "SelectScrollUpButton",
    ()=>SelectScrollUpButton,
    "SelectSeparator",
    ()=>SelectSeparator,
    "SelectTrigger",
    ()=>SelectTrigger,
    "SelectValue",
    ()=>SelectValue
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@radix-ui/react-select/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/check.js [app-ssr] (ecmascript) <export default as CheckIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$down$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronDownIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/chevron-down.js [app-ssr] (ecmascript) <export default as ChevronDownIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$up$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronUpIcon$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/chevron-up.js [app-ssr] (ecmascript) <export default as ChevronUpIcon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
"use client";
;
;
;
;
function Select({ ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Root"], {
        "data-slot": "select",
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 12,
        columnNumber: 10
    }, this);
}
function SelectGroup({ ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Group"], {
        "data-slot": "select-group",
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 18,
        columnNumber: 10
    }, this);
}
function SelectValue({ ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Value"], {
        "data-slot": "select-value",
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 24,
        columnNumber: 10
    }, this);
}
function SelectTrigger({ className, size = "default", children, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Trigger"], {
        "data-slot": "select-trigger",
        "data-size": size,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4", className),
        ...props,
        children: [
            children,
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Icon"], {
                asChild: true,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$down$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronDownIcon$3e$__["ChevronDownIcon"], {
                    className: "size-4 opacity-50"
                }, void 0, false, {
                    fileName: "[project]/src/components/ui/select.tsx",
                    lineNumber: 47,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/components/ui/select.tsx",
                lineNumber: 46,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 36,
        columnNumber: 5
    }, this);
}
function SelectContent({ className, children, position = "popper", align = "center", ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Portal"], {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Content"], {
            "data-slot": "select-content",
            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md", position === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", className),
            position: position,
            align: align,
            ...props,
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(SelectScrollUpButton, {}, void 0, false, {
                    fileName: "[project]/src/components/ui/select.tsx",
                    lineNumber: 74,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Viewport"], {
                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("p-1", position === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),
                    children: children
                }, void 0, false, {
                    fileName: "[project]/src/components/ui/select.tsx",
                    lineNumber: 75,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(SelectScrollDownButton, {}, void 0, false, {
                    fileName: "[project]/src/components/ui/select.tsx",
                    lineNumber: 84,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/components/ui/select.tsx",
            lineNumber: 62,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 61,
        columnNumber: 5
    }, this);
}
function SelectLabel({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Label"], {
        "data-slot": "select-label",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("text-muted-foreground px-2 py-1.5 text-xs", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 95,
        columnNumber: 5
    }, this);
}
function SelectItem({ className, children, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Item"], {
        "data-slot": "select-item",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2", className),
        ...props,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "absolute right-2 flex size-3.5 items-center justify-center",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ItemIndicator"], {
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckIcon$3e$__["CheckIcon"], {
                        className: "size-4"
                    }, void 0, false, {
                        fileName: "[project]/src/components/ui/select.tsx",
                        lineNumber: 119,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/components/ui/select.tsx",
                    lineNumber: 118,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/components/ui/select.tsx",
                lineNumber: 117,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ItemText"], {
                children: children
            }, void 0, false, {
                fileName: "[project]/src/components/ui/select.tsx",
                lineNumber: 122,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 109,
        columnNumber: 5
    }, this);
}
function SelectSeparator({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {
        "data-slot": "select-separator",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("bg-border pointer-events-none -mx-1 my-1 h-px", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 132,
        columnNumber: 5
    }, this);
}
function SelectScrollUpButton({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ScrollUpButton"], {
        "data-slot": "select-scroll-up-button",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("flex cursor-default items-center justify-center py-1", className),
        ...props,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$up$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronUpIcon$3e$__["ChevronUpIcon"], {
            className: "size-4"
        }, void 0, false, {
            fileName: "[project]/src/components/ui/select.tsx",
            lineNumber: 153,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 145,
        columnNumber: 5
    }, this);
}
function SelectScrollDownButton({ className, ...props }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$select$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ScrollDownButton"], {
        "data-slot": "select-scroll-down-button",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("flex cursor-default items-center justify-center py-1", className),
        ...props,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$down$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronDownIcon$3e$__["ChevronDownIcon"], {
            className: "size-4"
        }, void 0, false, {
            fileName: "[project]/src/components/ui/select.tsx",
            lineNumber: 171,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/components/ui/select.tsx",
        lineNumber: 163,
        columnNumber: 5
    }, this);
}
;
}),
"[project]/src/lib/services/data:2f545c [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"6072a3738e84272d52473f8c41b95025253f0233e1":"createRepoViaGithub"},"src/lib/services/repoService.ts",""] */ __turbopack_context__.s([
    "createRepoViaGithub",
    ()=>createRepoViaGithub
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var createRepoViaGithub = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("6072a3738e84272d52473f8c41b95025253f0233e1", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createRepoViaGithub"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vcmVwb1NlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL3V0aWxzL3N1cGFiYXNlL3NlcnZlclwiO1xuaW1wb3J0IHtcbiAgUmVwbyxcbiAgRG9jdW1lbnRhdGlvbixcbiAgRG9jUGFnZSxcbiAgQ29udmVyc2F0aW9uLFxuICBDb252ZXJzYXRpb25NZXNzYWdlLFxuICBDb2RlU25pcHBldCxcbn0gZnJvbSBcIkAvYXBwL3R5cGVzL3N1cGFiYXNlXCI7XG5pbXBvcnQgeyBBY3Rpb25SZXN1bHQgfSBmcm9tIFwiQC9hcHAvdHlwZXMvYWN0aW9uXCI7XG5pbXBvcnQge1xuICB2ZXJpZnlHaXRodWJSZXBvQWNjZXNzLFxuICB2ZXJpZnlHaXRMYWJSZXBvQWNjZXNzLFxufSBmcm9tIFwiLi9naXRQcm92aWRlclNlcnZpY2VcIjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIEdpdEh1YiBVUkxzXG5mdW5jdGlvbiBwYXJzZUdpdEh1YlVybCh1cmw6IHN0cmluZyk6IHsgb3duZXI6IHN0cmluZzsgcmVwbzogc3RyaW5nIH0ge1xuICB0cnkge1xuICAgIC8vIEhhbmRsZSBtdWx0aXBsZSBmb3JtYXRzOlxuICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL293bmVyL3JlcG9cbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9vd25lci9yZXBvLmdpdFxuICAgIC8vIC0gZ2l0QGdpdGh1Yi5jb206b3duZXIvcmVwby5naXRcblxuICAgIHVybCA9IHVybC50cmltKCkucmVwbGFjZSgvXFwuZ2l0JC8sIFwiXCIpO1xuXG4gICAgaWYgKHVybC5pbmNsdWRlcyhcImdpdGh1Yi5jb20vXCIpKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHVybC5zcGxpdChcImdpdGh1Yi5jb20vXCIpWzFdLnNwbGl0KFwiL1wiKTtcbiAgICAgIHJldHVybiB7IG93bmVyOiBwYXJ0c1swXSwgcmVwbzogcGFydHNbMV0gfTtcbiAgICB9XG5cbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJnaXRAZ2l0aHViLmNvbTpcIikpIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gdXJsLnJlcGxhY2UoXCJnaXRAZ2l0aHViLmNvbTpcIiwgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgICAgcmV0dXJuIHsgb3duZXI6IHBhcnRzWzBdLCByZXBvOiBwYXJ0c1sxXSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IG93bmVyOiBcIlwiLCByZXBvOiBcIlwiIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgb3duZXI6IFwiXCIsIHJlcG86IFwiXCIgfTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgR2l0TGFiIFVSTHNcbmZ1bmN0aW9uIHBhcnNlR2l0TGFiVXJsKHVybDogc3RyaW5nKTogeyBvd25lcjogc3RyaW5nOyByZXBvOiBzdHJpbmcgfSB7XG4gIHRyeSB7XG4gICAgLy8gSGFuZGxlIG11bHRpcGxlIGZvcm1hdHM6XG4gICAgLy8gLSBodHRwczovL2dpdGxhYi5jb20vb3duZXIvcmVwb1xuICAgIC8vIC0gaHR0cHM6Ly9naXRsYWIuY29tL293bmVyL3N1Ymdyb3VwL3JlcG9cbiAgICAvLyAtIGh0dHBzOi8vZ2l0bGFiLmNvbS9vd25lci9yZXBvLmdpdFxuICAgIC8vIC0gZ2l0QGdpdGxhYi5jb206b3duZXIvcmVwby5naXRcbiAgICAvLyAtIFNlbGYtaG9zdGVkOiBodHRwczovL2dpdGxhYi5leGFtcGxlLmNvbS9vd25lci9yZXBvXG5cbiAgICB1cmwgPSB1cmwudHJpbSgpLnJlcGxhY2UoL1xcLmdpdCQvLCBcIlwiKTtcblxuICAgIC8vIEhhbmRsZSBIVFRQUyBVUkxzIChnaXRsYWIuY29tIG9yIHNlbGYtaG9zdGVkKVxuICAgIGlmICh1cmwuaW5jbHVkZXMoXCJnaXRsYWIuY29tL1wiKSB8fCAvZ2l0bGFiXFwuW14vXStcXC8vLnRlc3QodXJsKSkge1xuICAgICAgLy8gRXh0cmFjdCB0aGUgcGF0aCBhZnRlciB0aGUgZG9tYWluXG4gICAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvZ2l0bGFiW14vXSpcXC8oLispLyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gbWF0Y2hbMV0uc3BsaXQoXCIvXCIpO1xuICAgICAgICAvLyBHaXRMYWIgc3VwcG9ydHMgbmVzdGVkIGdyb3Vwcywgc28gd2UgbmVlZCB0byBoYW5kbGU6XG4gICAgICAgIC8vIC0gb3duZXIvcmVwbyAoMiBwYXJ0cylcbiAgICAgICAgLy8gLSBvd25lci9zdWJncm91cC9yZXBvICgzKyBwYXJ0cylcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIC8vIFRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIGxhc3QgcGFydCBhcyBvd25lci9ncm91cFxuICAgICAgICAgIGNvbnN0IHJlcG8gPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG93bmVyID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICByZXR1cm4geyBvd25lciwgcmVwbyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFNTSCBVUkxzXG4gICAgaWYgKHVybC5zdGFydHNXaXRoKFwiZ2l0QGdpdGxhYi5jb206XCIpIHx8IC9naXRAZ2l0bGFiXFwuW146XSs6Ly50ZXN0KHVybCkpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKC9naXRAZ2l0bGFiW146XSo6KC4rKS8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IG1hdGNoWzFdLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIGNvbnN0IHJlcG8gPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG93bmVyID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICByZXR1cm4geyBvd25lciwgcmVwbyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb3duZXI6IFwiXCIsIHJlcG86IFwiXCIgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBvd25lcjogXCJcIiwgcmVwbzogXCJcIiB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXBvc0J5T3JnYW5pemF0aW9uSWQoXG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxSZXBvW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHVzZXIgPSBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJvcmdhbml6YXRpb25faWRcIiwgb3JnYW5pemF0aW9uSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKGRhdGEgPz8gW10pIGFzIFJlcG9bXSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVwb1ZpYUdpdGh1YihcbiAgZm9ybURhdGE6IEZvcm1EYXRhLFxuICBvcmdJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8UmVwbyB8IHVuZGVmaW5lZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICBjb25zdCBuYW1lID0gZm9ybURhdGEuZ2V0KFwibmFtZVwiKSBhcyBzdHJpbmc7XG4gIGNvbnN0IHByb3ZpZGVyID0gZm9ybURhdGEuZ2V0KFwidHlwZVwiKSBhcyBzdHJpbmc7XG4gIGNvbnN0IHVybCA9IGZvcm1EYXRhLmdldChcImdpdGh1Yi11cmxcIikgYXMgc3RyaW5nO1xuXG4gIGlmICghbmFtZSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOYW1lIGlzIHJlcXVpcmVkIVwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGluc3RhbGxhdGlvbiB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJnaXRodWJfaW5zdGFsbGF0aW9uc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiaW5zdGFsbGVkX2J5XCIsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmICghaW5zdGFsbGF0aW9uKSB7XG4gICAgLy8gTm8gR2l0SHViIEFwcCBpbnN0YWxsYXRpb24gLSBwcm9tcHQgdXNlciB0byBpbnN0YWxsXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiSW5zdGFsbGF0aW9uIE5lZWRlZFwiLFxuICAgIH07XG4gIH1cblxuICAvL3BhcnNlIHVybCBmb3Igb3duZXIgYW5kIHJlcG9cbiAgY29uc3QgeyBvd25lciwgcmVwbzogcmVwb05hbWUgfSA9IHBhcnNlR2l0SHViVXJsKHVybCk7XG5cbiAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgdmVyaWZ5R2l0aHViUmVwb0FjY2VzcyhcbiAgICBpbnN0YWxsYXRpb24uaWQsXG4gICAgb3duZXIsXG4gICAgcmVwb05hbWUsXG4gICk7XG5cbiAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogXCJBY2Nlc3MgRGVuaWVkXCIsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogcmVwbywgZXJyb3I6IHJlcG9FcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuaW5zZXJ0KHtcbiAgICAgIG5hbWUsXG4gICAgICBwcm92aWRlcixcbiAgICAgIHJlcG9fdXJsOiB1cmwsXG4gICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ0lkLFxuICAgICAgaW5kZXhlZF9ieTogdXNlci5pZCxcbiAgICAgIGluZGV4X3N0YXR1czogXCJub3QgaW5kZXhlZFwiLFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChyZXBvRXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlcG9FcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXBvIGFzIFJlcG8gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcG9WaWFHaXRsYWIoXG4gIGZvcm1EYXRhOiBGb3JtRGF0YSxcbiAgb3JnSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8gfCB1bmRlZmluZWQ+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldChcIm5hbWVcIikgYXMgc3RyaW5nO1xuICBjb25zdCBwcm92aWRlciA9IGZvcm1EYXRhLmdldChcInR5cGVcIikgYXMgc3RyaW5nO1xuICBjb25zdCB1cmwgPSBmb3JtRGF0YS5nZXQoXCJnaXRsYWItdXJsXCIpIGFzIHN0cmluZztcblxuICAvLyBWYWxpZGF0ZSBpbnB1dHNcbiAgaWYgKCFuYW1lIHx8IG5hbWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlJlcG9zaXRvcnkgbmFtZSBpcyByZXF1aXJlZFwiIH07XG4gIH1cblxuICBpZiAoIXVybCB8fCB1cmwudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkdpdExhYiBVUkwgaXMgcmVxdWlyZWRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBpbnN0YWxsYXRpb24gfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZ2l0bGFiX2luc3RhbGxhdGlvbnNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImluc3RhbGxlZF9ieVwiLCB1c2VyLmlkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoIWluc3RhbGxhdGlvbikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnN0YWxsYXRpb24gTmVlZGVkXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgb3duZXIsIHJlcG86IHJlcG9OYW1lIH0gPSBwYXJzZUdpdExhYlVybCh1cmwpO1xuXG4gIC8vdmVyaWZ5IGFjY2Vzc1xuICBjb25zdCBoYXNBY2Nlc3MgPSBhd2FpdCB2ZXJpZnlHaXRMYWJSZXBvQWNjZXNzKFxuICAgIGluc3RhbGxhdGlvbi5hY2Nlc3NfdG9rZW4sXG4gICAgb3duZXIsXG4gICAgcmVwb05hbWUsXG4gICk7XG5cbiAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICBpZiAoaW5zdGFsbGF0aW9uLmFjY2Vzc190b2tlbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBcIkFjY2VzcyByZXF1aXJlZCFcIixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiQWNjZXNzIGRlbmllZCFcIixcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvcjogcmVwb0Vycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlcG9zaXRvcmllc1wiKVxuICAgIC5pbnNlcnQoe1xuICAgICAgbmFtZSxcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgcmVwb191cmw6IHVybCxcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnSWQsXG4gICAgICBpbmRleGVkX2J5OiB1c2VyLmlkLFxuICAgICAgaW5kZXhfc3RhdHVzOiBcIm5vdCBpbmRleGVkXCIsXG4gICAgfSlcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKHJlcG9FcnJvcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVwb0Vycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcG9WaWFMb2NhbEZpbGUoXG4gIGZvcm1EYXRhOiBGb3JtRGF0YSxcbiAgb3JnSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldChcIm5hbWVcIikgYXMgc3RyaW5nO1xuICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KFwiZmlsZVwiKSBhcyBGaWxlO1xuXG4gIC8vIFZhbGlkYXRlIGlucHV0c1xuICBpZiAoIW5hbWUgfHwgbmFtZS50cmltKCkgPT09IFwiXCIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBuYW1lIGlzIHJlcXVpcmVkXCIgfTtcbiAgfVxuXG4gIGlmICghZmlsZSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGaWxlIGlzIHJlcXVpcmVkXCIgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIGZpbGUgdHlwZVxuICBpZiAoIWZpbGUubmFtZS5lbmRzV2l0aChcIi56aXBcIikpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiT25seSAuemlwIGZpbGVzIGFyZSBhbGxvd2VkXCIgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIGZpbGUgc2l6ZSAobWF4IDEwME1CKVxuICBjb25zdCBtYXhTaXplID0gMTAwICogMTAyNCAqIDEwMjQ7IC8vIDEwME1CIGluIGJ5dGVzXG4gIGlmIChmaWxlLnNpemUgPiBtYXhTaXplKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiRmlsZSBzaXplIGV4Y2VlZHMgMTAwTUIgbGltaXRcIixcbiAgICB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBmaWxlIG5hbWUgdG8gcHJldmVudCBjb2xsaXNpb25zXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBzYW5pdGl6ZWROYW1lID0gbmFtZS50cmltKCkucmVwbGFjZSgvW15hLXowLTktX10vZ2ksIFwiX1wiKTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3Nhbml0aXplZE5hbWV9XyR7dGltZXN0YW1wfV8ke2ZpbGUubmFtZX1gO1xuICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7b3JnSWR9LyR7ZmlsZU5hbWV9YDtcblxuICAgIC8vIFVwbG9hZCBmaWxlIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICBjb25zdCB7IGVycm9yOiB1cGxvYWRFcnJvciB9ID0gYXdhaXQgY2xpZW50LnN0b3JhZ2VcbiAgICAgIC5mcm9tKFwibG9jYWxfcmVwb3NcIilcbiAgICAgIC51cGxvYWQoZmlsZVBhdGgsIGZpbGUsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vemlwXCIsXG4gICAgICAgIHVwc2VydDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGlmICh1cGxvYWRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVwbG9hZCBlcnJvcjpcIiwgdXBsb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBgRmlsZSB1cGxvYWQgZmFpbGVkOiAke3VwbG9hZEVycm9yLm1lc3NhZ2V9YCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBwdWJsaWMgVVJMIGZvciB0aGUgdXBsb2FkZWQgZmlsZVxuICAgIGNvbnN0IHsgZGF0YTogdXJsRGF0YSB9ID0gY2xpZW50LnN0b3JhZ2VcbiAgICAgIC5mcm9tKFwibG9jYWxfcmVwb3NcIilcbiAgICAgIC5nZXRQdWJsaWNVcmwoZmlsZVBhdGgpO1xuXG4gICAgLy8gQ3JlYXRlIHJlcG9zaXRvcnkgcmVjb3JkIGluIGRhdGFiYXNlXG4gICAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvcjogcmVwb0Vycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgbmFtZTogbmFtZS50cmltKCksXG4gICAgICAgIHByb3ZpZGVyOiBcImxvY2FsXCIsXG4gICAgICAgIHJlcG9fdXJsOiBudWxsLFxuICAgICAgICBvYmplY3RfdXJsOiB1cmxEYXRhLnB1YmxpY1VybCxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdJZCxcbiAgICAgICAgaW5kZXhlZF9ieTogdXNlci5pZCxcbiAgICAgICAgaW5kZXhfc3RhdHVzOiBcIm5vdCBpbmRleGVkXCIsXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAocmVwb0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmVwb3NpdG9yeSBjcmVhdGlvbiBlcnJvcjpcIiwgcmVwb0Vycm9yKTtcbiAgICAgIC8vIEF0dGVtcHQgdG8gY2xlYW4gdXAgdXBsb2FkZWQgZmlsZVxuICAgICAgYXdhaXQgY2xpZW50LnN0b3JhZ2UuZnJvbShcImxvY2FsX3JlcG9zXCIpLnJlbW92ZShbZmlsZVBhdGhdKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYFJlcG9zaXRvcnkgY3JlYXRpb24gZmFpbGVkOiAke3JlcG9FcnJvci5tZXNzYWdlfWAsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gYXMgUmVwbyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsXG4gICAgfTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBSZXBvc2l0b3J5IE1hbmFnZW1lbnQgU2VydmljZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlcG9XaXRoU3RhdHVzKFxuICByZXBvSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXJlcG8pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVwbyBhcyBSZXBvIH07XG59XG5cbnR5cGUgVXBkYXRlRGF0YSA9IHtcbiAgbmFtZT86IHN0cmluZztcbiAgcmVwb191cmw/OiBzdHJpbmc7XG4gIG9iamVjdF91cmw/OiBzdHJpbmc7XG4gIGluZGV4X3N0YXR1cz86IHN0cmluZztcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVSZXBvU2V0dGluZ3MoXG4gIHJlcG9JZDogc3RyaW5nLFxuICBzZXR0aW5nczogeyBuYW1lPzogc3RyaW5nOyByZXBvX3VybD86IHN0cmluZzsgZmlsZT86IEZpbGUgfSxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gR2V0IHRoZSBjdXJyZW50IHJlcG8gdG8gY2hlY2sgaXRzIHByb3ZpZGVyIHR5cGVcbiAgY29uc3QgeyBkYXRhOiBjdXJyZW50UmVwbyB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFjdXJyZW50UmVwbykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJSZXBvc2l0b3J5IG5vdCBmb3VuZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgdXBkYXRlRGF0YTogVXBkYXRlRGF0YSA9IHt9O1xuXG4gIC8vIEhhbmRsZSBuYW1lIHVwZGF0ZVxuICBpZiAoc2V0dGluZ3MubmFtZSkge1xuICAgIHVwZGF0ZURhdGEubmFtZSA9IHNldHRpbmdzLm5hbWU7XG4gIH1cblxuICAvLyBIYW5kbGUgR2l0SHViIFVSTCB1cGRhdGVcbiAgaWYgKHNldHRpbmdzLnJlcG9fdXJsICYmIGN1cnJlbnRSZXBvLnByb3ZpZGVyID09PSBcImdpdGh1YlwiKSB7XG4gICAgY29uc3QgeyBvd25lciwgcmVwbyB9ID0gcGFyc2VHaXRIdWJVcmwoc2V0dGluZ3MucmVwb191cmwpO1xuXG4gICAgaWYgKCFvd25lciB8fCAhcmVwbykge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkludmFsaWQgR2l0SHViIFVSTCBmb3JtYXQhXCIgfTtcbiAgICB9XG5cbiAgICAvLyBWZXJpZnkgYWNjZXNzIHRvIHRoZSBuZXcgcmVwb1xuICAgIGNvbnN0IHsgZGF0YTogaW5zdGFsbGF0aW9uIH0gPSBhd2FpdCBjbGllbnRcbiAgICAgIC5mcm9tKFwiZ2l0aHViX2luc3RhbGxhdGlvbnNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAuZXEoXCJpbnN0YWxsZWRfYnlcIiwgdXNlci5pZClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmICghaW5zdGFsbGF0aW9uKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiR2l0SHViIEFwcCBub3QgaW5zdGFsbGVkIVwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgdmVyaWZ5R2l0aHViUmVwb0FjY2VzcyhcbiAgICAgIGluc3RhbGxhdGlvbi5pbnN0YWxsYXRpb25faWQudG9TdHJpbmcoKSxcbiAgICAgIG93bmVyLFxuICAgICAgcmVwbyxcbiAgICApO1xuXG4gICAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjpcbiAgICAgICAgICBcIkNhbm5vdCBhY2Nlc3MgdGhpcyByZXBvc2l0b3J5LiBNYWtlIHN1cmUgdGhlIEdpdEh1YiBBcHAgaXMgaW5zdGFsbGVkIGZvciB0aGlzIHJlcG9zaXRvcnkuXCIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEucmVwb191cmwgPSBzZXR0aW5ncy5yZXBvX3VybDtcbiAgICB1cGRhdGVEYXRhLmluZGV4X3N0YXR1cyA9IFwibm90IGluZGV4ZWRcIjsgLy8gVHJpZ2dlciByZS1pbmRleGluZ1xuICB9XG5cbiAgLy8gSGFuZGxlIGxvY2FsIGZpbGUgdXBsb2FkXG4gIGlmIChzZXR0aW5ncy5maWxlICYmIGN1cnJlbnRSZXBvLnByb3ZpZGVyID09PSBcImxvY2FsXCIpIHtcbiAgICBjb25zdCBmaWxlID0gc2V0dGluZ3MuZmlsZTtcbiAgICBjb25zdCBmaWxlRXh0ID0gZmlsZS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcblxuICAgIGlmIChmaWxlRXh0ICE9PSBcInppcFwiKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiT25seSAuemlwIGZpbGVzIGFyZSBhbGxvd2VkIVwiIH07XG4gICAgfVxuXG4gICAgLy8gVXBsb2FkIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3JlcG9JZH0tJHtEYXRlLm5vdygpfS56aXBgO1xuICAgIGNvbnN0IHsgZGF0YTogdXBsb2FkRGF0YSwgZXJyb3I6IHVwbG9hZEVycm9yIH0gPSBhd2FpdCBjbGllbnQuc3RvcmFnZVxuICAgICAgLmZyb20oXCJsb2NhbF9yZXBvc1wiKVxuICAgICAgLnVwbG9hZChmaWxlTmFtZSwgZmlsZSk7XG5cbiAgICBpZiAodXBsb2FkRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IodXBsb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byB1cGxvYWQgZmlsZSFcIiB9O1xuICAgIH1cblxuICAgIC8vIEdldCBwdWJsaWMgVVJMXG4gICAgY29uc3QgeyBkYXRhOiB1cmxEYXRhIH0gPSBjbGllbnQuc3RvcmFnZVxuICAgICAgLmZyb20oXCJsb2NhbF9yZXBvc1wiKVxuICAgICAgLmdldFB1YmxpY1VybChmaWxlTmFtZSk7XG5cbiAgICB1cGRhdGVEYXRhLm9iamVjdF91cmwgPSB1cmxEYXRhLnB1YmxpY1VybDtcbiAgICB1cGRhdGVEYXRhLmluZGV4X3N0YXR1cyA9IFwicGVuZGluZ1wiOyAvLyBUcmlnZ2VyIHJlLWluZGV4aW5nXG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIHJlcG9zaXRvcnlcbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgLmVxKFwiaWRcIiwgcmVwb0lkKVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gYXMgUmVwbyB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUmVwbyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx7IG9yZ2FuaXphdGlvbklkOiBzdHJpbmcgfT4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICAvLyBGZXRjaCB0aGUgb3JnYW5pemF0aW9uX2lkIGJlZm9yZSBkZWxldGluZ1xuICBjb25zdCB7IGRhdGE6IHJlcG8sIGVycm9yOiByZXBvRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnNlbGVjdChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKHJlcG9FcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IocmVwb0Vycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlcG9FcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXJlcG8pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgY2xpZW50LmZyb20oXCJyZXBvc2l0b3JpZXNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCByZXBvSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBvcmdhbml6YXRpb25JZDogcmVwby5vcmdhbml6YXRpb25faWQgfSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJpZ2dlclJlaW5kZXgoXG4gIHJlcG9JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGluZGV4X3N0YXR1cyB0byAncGVuZGluZycgdG8gdHJpZ2dlciByZWluZGV4aW5nXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnVwZGF0ZSh7IGluZGV4X3N0YXR1czogXCJwZW5kaW5nXCIgfSlcbiAgICAuZXEoXCJpZFwiLCByZXBvSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgLy8gVE9ETzogVHJpZ2dlciBhY3R1YWwgaW5kZXhpbmcgam9iL3dlYmhvb2svcXVldWUgaGVyZVxuICAvLyBUaGlzIGNvdWxkIGJlIGFuIEFQSSBjYWxsIHRvIHlvdXIgaW5kZXhpbmcgc2VydmljZVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEb2N1bWVudGF0aW9uIFNlcnZpY2VzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2N1bWVudGF0aW9uKFxuICByZXBvSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PERvY3VtZW50YXRpb24+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2N1bWVudGF0aW9uXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJyZXBvX2lkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIWRvY3VtZW50YXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZG9jdW1lbnRhdGlvbiBhcyBEb2N1bWVudGF0aW9uIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2NQYWdlcyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2NQYWdlW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gR2V0IHRoZSBsYXRlc3QgZG9jdW1lbnRhdGlvbiB2ZXJzaW9uIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvcjogZG9jRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgIC5lcShcInJlcG9faWRcIiwgcmVwb0lkKVxuICAgIC5vcmRlcihcInZlcnNpb25cIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgLmxpbWl0KDEpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChkb2NFcnJvciB8fCAhZG9jdW1lbnRhdGlvbikge1xuICAgIGNvbnNvbGUuZXJyb3IoZG9jRXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEb2N1bWVudGF0aW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHBhZ2VzLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJwYWdlc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiZG9jdW1lbnRhdGlvbl9pZFwiLCBkb2N1bWVudGF0aW9uLmlkKVxuICAgIC5vcmRlcihcIm9yZGVyX2luZGV4XCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKHBhZ2VzID8/IFtdKSBhcyBEb2NQYWdlW10gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY1BhZ2VCeUlkKFxuICBwYWdlSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PERvY1BhZ2U+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBwYWdlLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2NfcGFnZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHBhZ2VJZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXBhZ2UpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGFnZSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcGFnZSBhcyBEb2NQYWdlIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2NQYWdlc0hpZXJhcmNoaWNhbChcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2NQYWdlW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gRmlyc3QgZ2V0IHRoZSBkb2N1bWVudGF0aW9uIElEIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvcjogZG9jRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgIC5lcShcInJlcG9faWRcIiwgcmVwb0lkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZG9jRXJyb3IgfHwgIWRvY3VtZW50YXRpb24pIHtcbiAgICBjb25zb2xlLmVycm9yKGRvY0Vycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBwYWdlcywgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jX3BhZ2VzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJkb2N1bWVudGF0aW9uX2lkXCIsIGRvY3VtZW50YXRpb24uaWQpXG4gICAgLm9yZGVyKFwib3JkZXJfaW5kZXhcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICAvLyBQYWdlcyBhcmUgYWxyZWFkeSBzb3J0ZWQgYnkgb3JkZXJfaW5kZXhcbiAgLy8gVGhlIHBhcmVudF9wYWdlX2lkIGZpZWxkIG1haW50YWlucyB0aGUgaGllcmFyY2h5XG4gIC8vIEZyb250ZW5kIGNhbiB1c2UgdGhpcyB0byByZW5kZXIgdGhlIHRyZWUgc3RydWN0dXJlXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IChwYWdlcyA/PyBbXSkgYXMgRG9jUGFnZVtdIH07XG59XG5cbi8qKlxuICogR2V0IGFsbCBkb2N1bWVudGF0aW9uIHZlcnNpb25zIGZvciBhIHJlcG9zaXRvcnlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50YXRpb25WZXJzaW9ucyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2N1bWVudGF0aW9uW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiB2ZXJzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiAodmVyc2lvbnMgPz8gW10pIGFzIERvY3VtZW50YXRpb25bXSB9O1xufVxuXG4vKipcbiAqIEdldCB0aGUgbGF0ZXN0IGNvbXBsZXRlZCBkb2N1bWVudGF0aW9uIHZlcnNpb24gZm9yIGEgcmVwb3NpdG9yeVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGF0ZXN0RG9jdW1lbnRhdGlvbihcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2N1bWVudGF0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogZG9jdW1lbnRhdGlvbiwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFkb2N1bWVudGF0aW9uKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRvY3VtZW50YXRpb24gbm90IGZvdW5kXCIgfTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZG9jdW1lbnRhdGlvbiBhcyBEb2N1bWVudGF0aW9uIH07XG59XG5cbi8qKlxuICogR2V0IGRvY3VtZW50YXRpb24gcGFnZXMgZm9yIGEgc3BlY2lmaWMgdmVyc2lvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jUGFnZXNGb3JWZXJzaW9uKFxuICByZXBvSWQ6IHN0cmluZyxcbiAgdmVyc2lvbjogbnVtYmVyLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8RG9jUGFnZVtdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnRhdGlvbiByZWNvcmQgZm9yIHRoaXMgdmVyc2lvblxuICBjb25zdCB7IGRhdGE6IGRvY3VtZW50YXRpb24sIGVycm9yOiBkb2NFcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2N1bWVudGF0aW9uXCIpXG4gICAgLnNlbGVjdChcImlkXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLmVxKFwidmVyc2lvblwiLCB2ZXJzaW9uKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZG9jRXJyb3IgfHwgIWRvY3VtZW50YXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiB2ZXJzaW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHBhZ2VzLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJwYWdlc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiZG9jdW1lbnRhdGlvbl9pZFwiLCBkb2N1bWVudGF0aW9uLmlkKVxuICAgIC5vcmRlcihcIm9yZGVyX2luZGV4XCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKHBhZ2VzID8/IFtdKSBhcyBEb2NQYWdlW10gfTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ29udmVyc2F0aW9uIFNlcnZpY2VzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25zKFxuICByZXBvSWQ6IHN0cmluZyxcbiAgbGltaXQ6IG51bWJlciA9IDIwLFxuICB2ZXJzaW9uOiBudW1iZXIgfCBudWxsID0gbnVsbCxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvbnZlcnNhdGlvbltdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGxldCBxdWVyeSA9IGNsaWVudFxuICAgIC5mcm9tKFwiY29udmVyc2F0aW9uc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKTtcblxuICAvLyBGaWx0ZXIgYnkgdmVyc2lvbiBpZiBzcGVjaWZpZWRcbiAgaWYgKHZlcnNpb24gIT09IG51bGwgJiYgdmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcXVlcnkgPSBxdWVyeS5lcShcInJlcG9fdmVyc2lvblwiLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9ucywgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XG4gICAgLm9yZGVyKFwidXBkYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQobGltaXQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKGNvbnZlcnNhdGlvbnMgPz8gW10pIGFzIENvbnZlcnNhdGlvbltdIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25CeUlkKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJpZFwiLCBjb252ZXJzYXRpb25JZClcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgaWYgKCFjb252ZXJzYXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ29udmVyc2F0aW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBjb252ZXJzYXRpb24gYXMgQ29udmVyc2F0aW9uIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb252ZXJzYXRpb24oXG4gIHJlcG9JZDogc3RyaW5nLFxuICB0aXRsZT86IHN0cmluZyxcbiAgdmVyc2lvbj86IG51bWJlciB8IG51bGwsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxDb252ZXJzYXRpb24+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBjb252ZXJzYXRpb24sIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImNvbnZlcnNhdGlvbnNcIilcbiAgICAuaW5zZXJ0KHtcbiAgICAgIHJlcG9faWQ6IHJlcG9JZCxcbiAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICB0aXRsZTogdGl0bGUgfHwgXCJOZXcgQ29udmVyc2F0aW9uXCIsXG4gICAgICByZXBvX3ZlcnNpb246IHZlcnNpb24gPz8gbnVsbCxcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGNvbnZlcnNhdGlvbiBhcyBDb252ZXJzYXRpb24gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbnZlcnNhdGlvbihcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLmRlbGV0ZSgpXG4gICAgLmVxKFwiaWRcIiwgY29udmVyc2F0aW9uSWQpXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuYW1lQ29udmVyc2F0aW9uKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICBuZXdUaXRsZTogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLnVwZGF0ZSh7IHRpdGxlOiBuZXdUaXRsZSB9KVxuICAgIC5lcShcImlkXCIsIGNvbnZlcnNhdGlvbklkKVxuICAgIC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBjb252ZXJzYXRpb24gYXMgQ29udmVyc2F0aW9uIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1lc3NhZ2UgU2VydmljZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbk1lc3NhZ2VzKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uTWVzc2FnZVtdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogbWVzc2FnZXMsIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcIm1lc3NhZ2VzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJjb252ZXJzYXRpb25faWRcIiwgY29udmVyc2F0aW9uSWQpXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IChtZXNzYWdlcyA/PyBbXSkgYXMgQ29udmVyc2F0aW9uTWVzc2FnZVtdIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNZXNzYWdlKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICByb2xlOiBcInVzZXJcIiB8IFwiYXNzaXN0YW50XCIsXG4gIGNvbnRlbnQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvbnZlcnNhdGlvbk1lc3NhZ2U+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBtZXNzYWdlLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJtZXNzYWdlc1wiKVxuICAgIC5pbnNlcnQoe1xuICAgICAgY29udmVyc2F0aW9uX2lkOiBjb252ZXJzYXRpb25JZCxcbiAgICAgIHJvbGUsXG4gICAgICBjb250ZW50LFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSBjb252ZXJzYXRpb24ncyB1cGRhdGVkX2F0IHRpbWVzdGFtcFxuICBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImNvbnZlcnNhdGlvbnNcIilcbiAgICAudXBkYXRlKHsgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgLmVxKFwiaWRcIiwgY29udmVyc2F0aW9uSWQpO1xuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1lc3NhZ2UgYXMgQ29udmVyc2F0aW9uTWVzc2FnZSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUNvZGVTbmlwcGV0cyhcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gIHNuaXBwZXRzOiBBcnJheTx7IGZpbGU6IHN0cmluZzsgY29kZTogc3RyaW5nIH0+LFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29kZVNuaXBwZXRbXT4+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCBzbmlwcGV0c1RvSW5zZXJ0ID0gc25pcHBldHMubWFwKChzbmlwcGV0KSA9PiAoe1xuICAgIGNvbnZlcnNhdGlvbl9pZDogY29udmVyc2F0aW9uSWQsXG4gICAgbWVzc2FnZV9pZDogbWVzc2FnZUlkLFxuICAgIGZpbGVfcGF0aDogc25pcHBldC5maWxlLFxuICAgIGNvZGVfY29udGVudDogc25pcHBldC5jb2RlLFxuICAgIGxhbmd1YWdlOiBzbmlwcGV0LmZpbGUuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IG51bGwsXG4gIH0pKTtcblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiY29kZV9zbmlwcGV0c1wiKVxuICAgIC5pbnNlcnQoc25pcHBldHNUb0luc2VydClcbiAgICAuc2VsZWN0KCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkYXRhIGFzIENvZGVTbmlwcGV0W10gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvZGVTbmlwcGV0c0ZvckNvbnZlcnNhdGlvbihcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvZGVTbmlwcGV0W10+PiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbShcImNvZGVfc25pcHBldHNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImNvbnZlcnNhdGlvbl9pZFwiLCBjb252ZXJzYXRpb25JZClcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGRhdGEgYXMgQ29kZVNuaXBwZXRbXSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29kZVNuaXBwZXQoXG4gIHNuaXBwZXRJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8bnVsbD4+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiY29kZV9zbmlwcGV0c1wiKVxuICAgIC5kZWxldGUoKVxuICAgIC5lcShcImlkXCIsIHNuaXBwZXRJZCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbmRleFJlcG9zaXRvcnkoXG4gIHJlcG9JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGluc3RhbGxhdGlvbiwgZXJyb3I6IGluc3RhbGxhdGlvbkVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImdpdGh1Yl9pbnN0YWxsYXRpb25zXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJpbnN0YWxsZWRfYnlcIiwgdXNlci5pZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFpbnN0YWxsYXRpb24gfHwgaW5zdGFsbGF0aW9uRXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiR2l0aHViIEFwcCBJbnN0YWxsYXRpb24gbm90IGZvdW5kIVwiIH07XG4gIH1cblxuICAvL2ZldGNoIHJlcG9cblxuICBjb25zdCByZXBvUmVzdWx0ID0gYXdhaXQgZ2V0UmVwb1dpdGhTdGF0dXMocmVwb0lkKTtcblxuICBpZiAoIXJlcG9SZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVwb1Jlc3VsdC5lcnJvciB9O1xuICB9XG5cbiAgY29uc3QgcmVwb1VybCA9IHJlcG9SZXN1bHQuZGF0YS5yZXBvX3VybDtcbiAgY29uc3QgaW5zdGFsbGF0aW9uSWQgPSBpbnN0YWxsYXRpb24uaW5zdGFsbGF0aW9uX2lkO1xuXG4gIC8vIEdldCB0aGUgbGF0ZXN0IHZlcnNpb24gbnVtYmVyIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBsYXRlc3REb2MgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJ2ZXJzaW9uXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgLy8gSW5jcmVtZW50IHZlcnNpb24gKHN0YXJ0IGF0IDEgaWYgbm8gcHJldmlvdXMgdmVyc2lvbnMpXG4gIGNvbnN0IG5leHRWZXJzaW9uID0gKGxhdGVzdERvYz8udmVyc2lvbiA/PyAwKSArIDE7XG5cbiAgLy9tYXJrIHRoZSByZXBvc2l0b3J5IGFzIGluZGV4aW5nIGluIHN1cGFiYXNlIGZpcnN0XG4gIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlcG9zaXRvcmllc1wiKVxuICAgIC51cGRhdGUoeyBpbmRleF9zdGF0dXM6IFwiaW5kZXhpbmdcIiB9KVxuICAgIC5lcShcImlkXCIsIHJlcG9JZCk7XG5cbiAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcih1cGRhdGVFcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB1cGRhdGVFcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICAvLyBDYWxsIHRoZSBiYWNrZW5kIHRvIHN0YXJ0IGluZGV4aW5nIChmaXJlLWFuZC1mb3JnZXQpXG4gIC8vIERvbid0IGF3YWl0IG9yIHRocm93IGVycm9ycyBzaW5jZSB0aGlzIGlzIGEgbG9uZy1ydW5uaW5nIG9wZXJhdGlvblxuICBmZXRjaChgJHtwcm9jZXNzLmVudi5CQUNLRU5EX1VSTH0vcmVwb3MvaW5kZXhgLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHJlcG9fdXJsOiByZXBvVXJsLFxuICAgICAgcmVwb19pZDogcmVwb0lkLFxuICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgIGluc3RhbGxhdGlvbl9pZDogaW5zdGFsbGF0aW9uSWQsXG4gICAgICBicmFuY2g6IFwibWFpblwiLFxuICAgICAgdmVyc2lvbjogbmV4dFZlcnNpb24sXG4gICAgfSksXG4gIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIC8vIExvZyB0aGUgZXJyb3IgYnV0IGRvbid0IGZhaWwgdGhlIHJlcXVlc3RcbiAgICBjb25zb2xlLmVycm9yKFwiSW5kZXhpbmcgcmVxdWVzdCBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAvLyBUaGUgYmFja2VuZCBzaG91bGQgaGFuZGxlIHVwZGF0aW5nIHRoZSByZXBvIHN0YXR1cyBvbiBmYWlsdXJlXG4gIH0pO1xuXG4gIC8vIFJldHVybiBzdWNjZXNzIGltbWVkaWF0ZWx5IC0gdGhlIGluZGV4aW5nIHdpbGwgaGFwcGVuIGluIHRoZSBiYWNrZ3JvdW5kXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0U0FvSHNCIn0=
}),
"[project]/src/lib/services/data:368a37 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"60da381c553470c3cbe4d265dd4a59642b8cfbb360":"createRepoViaGitlab"},"src/lib/services/repoService.ts",""] */ __turbopack_context__.s([
    "createRepoViaGitlab",
    ()=>createRepoViaGitlab
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var createRepoViaGitlab = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60da381c553470c3cbe4d265dd4a59642b8cfbb360", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createRepoViaGitlab"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vcmVwb1NlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL3V0aWxzL3N1cGFiYXNlL3NlcnZlclwiO1xuaW1wb3J0IHtcbiAgUmVwbyxcbiAgRG9jdW1lbnRhdGlvbixcbiAgRG9jUGFnZSxcbiAgQ29udmVyc2F0aW9uLFxuICBDb252ZXJzYXRpb25NZXNzYWdlLFxuICBDb2RlU25pcHBldCxcbn0gZnJvbSBcIkAvYXBwL3R5cGVzL3N1cGFiYXNlXCI7XG5pbXBvcnQgeyBBY3Rpb25SZXN1bHQgfSBmcm9tIFwiQC9hcHAvdHlwZXMvYWN0aW9uXCI7XG5pbXBvcnQge1xuICB2ZXJpZnlHaXRodWJSZXBvQWNjZXNzLFxuICB2ZXJpZnlHaXRMYWJSZXBvQWNjZXNzLFxufSBmcm9tIFwiLi9naXRQcm92aWRlclNlcnZpY2VcIjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIEdpdEh1YiBVUkxzXG5mdW5jdGlvbiBwYXJzZUdpdEh1YlVybCh1cmw6IHN0cmluZyk6IHsgb3duZXI6IHN0cmluZzsgcmVwbzogc3RyaW5nIH0ge1xuICB0cnkge1xuICAgIC8vIEhhbmRsZSBtdWx0aXBsZSBmb3JtYXRzOlxuICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL293bmVyL3JlcG9cbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9vd25lci9yZXBvLmdpdFxuICAgIC8vIC0gZ2l0QGdpdGh1Yi5jb206b3duZXIvcmVwby5naXRcblxuICAgIHVybCA9IHVybC50cmltKCkucmVwbGFjZSgvXFwuZ2l0JC8sIFwiXCIpO1xuXG4gICAgaWYgKHVybC5pbmNsdWRlcyhcImdpdGh1Yi5jb20vXCIpKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHVybC5zcGxpdChcImdpdGh1Yi5jb20vXCIpWzFdLnNwbGl0KFwiL1wiKTtcbiAgICAgIHJldHVybiB7IG93bmVyOiBwYXJ0c1swXSwgcmVwbzogcGFydHNbMV0gfTtcbiAgICB9XG5cbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJnaXRAZ2l0aHViLmNvbTpcIikpIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gdXJsLnJlcGxhY2UoXCJnaXRAZ2l0aHViLmNvbTpcIiwgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgICAgcmV0dXJuIHsgb3duZXI6IHBhcnRzWzBdLCByZXBvOiBwYXJ0c1sxXSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IG93bmVyOiBcIlwiLCByZXBvOiBcIlwiIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgb3duZXI6IFwiXCIsIHJlcG86IFwiXCIgfTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgR2l0TGFiIFVSTHNcbmZ1bmN0aW9uIHBhcnNlR2l0TGFiVXJsKHVybDogc3RyaW5nKTogeyBvd25lcjogc3RyaW5nOyByZXBvOiBzdHJpbmcgfSB7XG4gIHRyeSB7XG4gICAgLy8gSGFuZGxlIG11bHRpcGxlIGZvcm1hdHM6XG4gICAgLy8gLSBodHRwczovL2dpdGxhYi5jb20vb3duZXIvcmVwb1xuICAgIC8vIC0gaHR0cHM6Ly9naXRsYWIuY29tL293bmVyL3N1Ymdyb3VwL3JlcG9cbiAgICAvLyAtIGh0dHBzOi8vZ2l0bGFiLmNvbS9vd25lci9yZXBvLmdpdFxuICAgIC8vIC0gZ2l0QGdpdGxhYi5jb206b3duZXIvcmVwby5naXRcbiAgICAvLyAtIFNlbGYtaG9zdGVkOiBodHRwczovL2dpdGxhYi5leGFtcGxlLmNvbS9vd25lci9yZXBvXG5cbiAgICB1cmwgPSB1cmwudHJpbSgpLnJlcGxhY2UoL1xcLmdpdCQvLCBcIlwiKTtcblxuICAgIC8vIEhhbmRsZSBIVFRQUyBVUkxzIChnaXRsYWIuY29tIG9yIHNlbGYtaG9zdGVkKVxuICAgIGlmICh1cmwuaW5jbHVkZXMoXCJnaXRsYWIuY29tL1wiKSB8fCAvZ2l0bGFiXFwuW14vXStcXC8vLnRlc3QodXJsKSkge1xuICAgICAgLy8gRXh0cmFjdCB0aGUgcGF0aCBhZnRlciB0aGUgZG9tYWluXG4gICAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvZ2l0bGFiW14vXSpcXC8oLispLyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gbWF0Y2hbMV0uc3BsaXQoXCIvXCIpO1xuICAgICAgICAvLyBHaXRMYWIgc3VwcG9ydHMgbmVzdGVkIGdyb3Vwcywgc28gd2UgbmVlZCB0byBoYW5kbGU6XG4gICAgICAgIC8vIC0gb3duZXIvcmVwbyAoMiBwYXJ0cylcbiAgICAgICAgLy8gLSBvd25lci9zdWJncm91cC9yZXBvICgzKyBwYXJ0cylcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIC8vIFRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIGxhc3QgcGFydCBhcyBvd25lci9ncm91cFxuICAgICAgICAgIGNvbnN0IHJlcG8gPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG93bmVyID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICByZXR1cm4geyBvd25lciwgcmVwbyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFNTSCBVUkxzXG4gICAgaWYgKHVybC5zdGFydHNXaXRoKFwiZ2l0QGdpdGxhYi5jb206XCIpIHx8IC9naXRAZ2l0bGFiXFwuW146XSs6Ly50ZXN0KHVybCkpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKC9naXRAZ2l0bGFiW146XSo6KC4rKS8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IG1hdGNoWzFdLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIGNvbnN0IHJlcG8gPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG93bmVyID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICByZXR1cm4geyBvd25lciwgcmVwbyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb3duZXI6IFwiXCIsIHJlcG86IFwiXCIgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBvd25lcjogXCJcIiwgcmVwbzogXCJcIiB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXBvc0J5T3JnYW5pemF0aW9uSWQoXG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxSZXBvW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHVzZXIgPSBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJvcmdhbml6YXRpb25faWRcIiwgb3JnYW5pemF0aW9uSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKGRhdGEgPz8gW10pIGFzIFJlcG9bXSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVwb1ZpYUdpdGh1YihcbiAgZm9ybURhdGE6IEZvcm1EYXRhLFxuICBvcmdJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8UmVwbyB8IHVuZGVmaW5lZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICBjb25zdCBuYW1lID0gZm9ybURhdGEuZ2V0KFwibmFtZVwiKSBhcyBzdHJpbmc7XG4gIGNvbnN0IHByb3ZpZGVyID0gZm9ybURhdGEuZ2V0KFwidHlwZVwiKSBhcyBzdHJpbmc7XG4gIGNvbnN0IHVybCA9IGZvcm1EYXRhLmdldChcImdpdGh1Yi11cmxcIikgYXMgc3RyaW5nO1xuXG4gIGlmICghbmFtZSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOYW1lIGlzIHJlcXVpcmVkIVwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGluc3RhbGxhdGlvbiB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJnaXRodWJfaW5zdGFsbGF0aW9uc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiaW5zdGFsbGVkX2J5XCIsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmICghaW5zdGFsbGF0aW9uKSB7XG4gICAgLy8gTm8gR2l0SHViIEFwcCBpbnN0YWxsYXRpb24gLSBwcm9tcHQgdXNlciB0byBpbnN0YWxsXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiSW5zdGFsbGF0aW9uIE5lZWRlZFwiLFxuICAgIH07XG4gIH1cblxuICAvL3BhcnNlIHVybCBmb3Igb3duZXIgYW5kIHJlcG9cbiAgY29uc3QgeyBvd25lciwgcmVwbzogcmVwb05hbWUgfSA9IHBhcnNlR2l0SHViVXJsKHVybCk7XG5cbiAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgdmVyaWZ5R2l0aHViUmVwb0FjY2VzcyhcbiAgICBpbnN0YWxsYXRpb24uaWQsXG4gICAgb3duZXIsXG4gICAgcmVwb05hbWUsXG4gICk7XG5cbiAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogXCJBY2Nlc3MgRGVuaWVkXCIsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogcmVwbywgZXJyb3I6IHJlcG9FcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuaW5zZXJ0KHtcbiAgICAgIG5hbWUsXG4gICAgICBwcm92aWRlcixcbiAgICAgIHJlcG9fdXJsOiB1cmwsXG4gICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ0lkLFxuICAgICAgaW5kZXhlZF9ieTogdXNlci5pZCxcbiAgICAgIGluZGV4X3N0YXR1czogXCJub3QgaW5kZXhlZFwiLFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChyZXBvRXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlcG9FcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXBvIGFzIFJlcG8gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcG9WaWFHaXRsYWIoXG4gIGZvcm1EYXRhOiBGb3JtRGF0YSxcbiAgb3JnSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8gfCB1bmRlZmluZWQ+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldChcIm5hbWVcIikgYXMgc3RyaW5nO1xuICBjb25zdCBwcm92aWRlciA9IGZvcm1EYXRhLmdldChcInR5cGVcIikgYXMgc3RyaW5nO1xuICBjb25zdCB1cmwgPSBmb3JtRGF0YS5nZXQoXCJnaXRsYWItdXJsXCIpIGFzIHN0cmluZztcblxuICAvLyBWYWxpZGF0ZSBpbnB1dHNcbiAgaWYgKCFuYW1lIHx8IG5hbWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlJlcG9zaXRvcnkgbmFtZSBpcyByZXF1aXJlZFwiIH07XG4gIH1cblxuICBpZiAoIXVybCB8fCB1cmwudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkdpdExhYiBVUkwgaXMgcmVxdWlyZWRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBpbnN0YWxsYXRpb24gfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZ2l0bGFiX2luc3RhbGxhdGlvbnNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImluc3RhbGxlZF9ieVwiLCB1c2VyLmlkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoIWluc3RhbGxhdGlvbikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnN0YWxsYXRpb24gTmVlZGVkXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgb3duZXIsIHJlcG86IHJlcG9OYW1lIH0gPSBwYXJzZUdpdExhYlVybCh1cmwpO1xuXG4gIC8vdmVyaWZ5IGFjY2Vzc1xuICBjb25zdCBoYXNBY2Nlc3MgPSBhd2FpdCB2ZXJpZnlHaXRMYWJSZXBvQWNjZXNzKFxuICAgIGluc3RhbGxhdGlvbi5hY2Nlc3NfdG9rZW4sXG4gICAgb3duZXIsXG4gICAgcmVwb05hbWUsXG4gICk7XG5cbiAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICBpZiAoaW5zdGFsbGF0aW9uLmFjY2Vzc190b2tlbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBcIkFjY2VzcyByZXF1aXJlZCFcIixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiQWNjZXNzIGRlbmllZCFcIixcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvcjogcmVwb0Vycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlcG9zaXRvcmllc1wiKVxuICAgIC5pbnNlcnQoe1xuICAgICAgbmFtZSxcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgcmVwb191cmw6IHVybCxcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnSWQsXG4gICAgICBpbmRleGVkX2J5OiB1c2VyLmlkLFxuICAgICAgaW5kZXhfc3RhdHVzOiBcIm5vdCBpbmRleGVkXCIsXG4gICAgfSlcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKHJlcG9FcnJvcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVwb0Vycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcG9WaWFMb2NhbEZpbGUoXG4gIGZvcm1EYXRhOiBGb3JtRGF0YSxcbiAgb3JnSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldChcIm5hbWVcIikgYXMgc3RyaW5nO1xuICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KFwiZmlsZVwiKSBhcyBGaWxlO1xuXG4gIC8vIFZhbGlkYXRlIGlucHV0c1xuICBpZiAoIW5hbWUgfHwgbmFtZS50cmltKCkgPT09IFwiXCIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBuYW1lIGlzIHJlcXVpcmVkXCIgfTtcbiAgfVxuXG4gIGlmICghZmlsZSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGaWxlIGlzIHJlcXVpcmVkXCIgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIGZpbGUgdHlwZVxuICBpZiAoIWZpbGUubmFtZS5lbmRzV2l0aChcIi56aXBcIikpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiT25seSAuemlwIGZpbGVzIGFyZSBhbGxvd2VkXCIgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIGZpbGUgc2l6ZSAobWF4IDEwME1CKVxuICBjb25zdCBtYXhTaXplID0gMTAwICogMTAyNCAqIDEwMjQ7IC8vIDEwME1CIGluIGJ5dGVzXG4gIGlmIChmaWxlLnNpemUgPiBtYXhTaXplKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiRmlsZSBzaXplIGV4Y2VlZHMgMTAwTUIgbGltaXRcIixcbiAgICB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBmaWxlIG5hbWUgdG8gcHJldmVudCBjb2xsaXNpb25zXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBzYW5pdGl6ZWROYW1lID0gbmFtZS50cmltKCkucmVwbGFjZSgvW15hLXowLTktX10vZ2ksIFwiX1wiKTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3Nhbml0aXplZE5hbWV9XyR7dGltZXN0YW1wfV8ke2ZpbGUubmFtZX1gO1xuICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7b3JnSWR9LyR7ZmlsZU5hbWV9YDtcblxuICAgIC8vIFVwbG9hZCBmaWxlIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICBjb25zdCB7IGVycm9yOiB1cGxvYWRFcnJvciB9ID0gYXdhaXQgY2xpZW50LnN0b3JhZ2VcbiAgICAgIC5mcm9tKFwibG9jYWxfcmVwb3NcIilcbiAgICAgIC51cGxvYWQoZmlsZVBhdGgsIGZpbGUsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vemlwXCIsXG4gICAgICAgIHVwc2VydDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGlmICh1cGxvYWRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVwbG9hZCBlcnJvcjpcIiwgdXBsb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBgRmlsZSB1cGxvYWQgZmFpbGVkOiAke3VwbG9hZEVycm9yLm1lc3NhZ2V9YCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBwdWJsaWMgVVJMIGZvciB0aGUgdXBsb2FkZWQgZmlsZVxuICAgIGNvbnN0IHsgZGF0YTogdXJsRGF0YSB9ID0gY2xpZW50LnN0b3JhZ2VcbiAgICAgIC5mcm9tKFwibG9jYWxfcmVwb3NcIilcbiAgICAgIC5nZXRQdWJsaWNVcmwoZmlsZVBhdGgpO1xuXG4gICAgLy8gQ3JlYXRlIHJlcG9zaXRvcnkgcmVjb3JkIGluIGRhdGFiYXNlXG4gICAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvcjogcmVwb0Vycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgbmFtZTogbmFtZS50cmltKCksXG4gICAgICAgIHByb3ZpZGVyOiBcImxvY2FsXCIsXG4gICAgICAgIHJlcG9fdXJsOiBudWxsLFxuICAgICAgICBvYmplY3RfdXJsOiB1cmxEYXRhLnB1YmxpY1VybCxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdJZCxcbiAgICAgICAgaW5kZXhlZF9ieTogdXNlci5pZCxcbiAgICAgICAgaW5kZXhfc3RhdHVzOiBcIm5vdCBpbmRleGVkXCIsXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAocmVwb0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmVwb3NpdG9yeSBjcmVhdGlvbiBlcnJvcjpcIiwgcmVwb0Vycm9yKTtcbiAgICAgIC8vIEF0dGVtcHQgdG8gY2xlYW4gdXAgdXBsb2FkZWQgZmlsZVxuICAgICAgYXdhaXQgY2xpZW50LnN0b3JhZ2UuZnJvbShcImxvY2FsX3JlcG9zXCIpLnJlbW92ZShbZmlsZVBhdGhdKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYFJlcG9zaXRvcnkgY3JlYXRpb24gZmFpbGVkOiAke3JlcG9FcnJvci5tZXNzYWdlfWAsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gYXMgUmVwbyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsXG4gICAgfTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBSZXBvc2l0b3J5IE1hbmFnZW1lbnQgU2VydmljZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlcG9XaXRoU3RhdHVzKFxuICByZXBvSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXJlcG8pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVwbyBhcyBSZXBvIH07XG59XG5cbnR5cGUgVXBkYXRlRGF0YSA9IHtcbiAgbmFtZT86IHN0cmluZztcbiAgcmVwb191cmw/OiBzdHJpbmc7XG4gIG9iamVjdF91cmw/OiBzdHJpbmc7XG4gIGluZGV4X3N0YXR1cz86IHN0cmluZztcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVSZXBvU2V0dGluZ3MoXG4gIHJlcG9JZDogc3RyaW5nLFxuICBzZXR0aW5nczogeyBuYW1lPzogc3RyaW5nOyByZXBvX3VybD86IHN0cmluZzsgZmlsZT86IEZpbGUgfSxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gR2V0IHRoZSBjdXJyZW50IHJlcG8gdG8gY2hlY2sgaXRzIHByb3ZpZGVyIHR5cGVcbiAgY29uc3QgeyBkYXRhOiBjdXJyZW50UmVwbyB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFjdXJyZW50UmVwbykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJSZXBvc2l0b3J5IG5vdCBmb3VuZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgdXBkYXRlRGF0YTogVXBkYXRlRGF0YSA9IHt9O1xuXG4gIC8vIEhhbmRsZSBuYW1lIHVwZGF0ZVxuICBpZiAoc2V0dGluZ3MubmFtZSkge1xuICAgIHVwZGF0ZURhdGEubmFtZSA9IHNldHRpbmdzLm5hbWU7XG4gIH1cblxuICAvLyBIYW5kbGUgR2l0SHViIFVSTCB1cGRhdGVcbiAgaWYgKHNldHRpbmdzLnJlcG9fdXJsICYmIGN1cnJlbnRSZXBvLnByb3ZpZGVyID09PSBcImdpdGh1YlwiKSB7XG4gICAgY29uc3QgeyBvd25lciwgcmVwbyB9ID0gcGFyc2VHaXRIdWJVcmwoc2V0dGluZ3MucmVwb191cmwpO1xuXG4gICAgaWYgKCFvd25lciB8fCAhcmVwbykge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkludmFsaWQgR2l0SHViIFVSTCBmb3JtYXQhXCIgfTtcbiAgICB9XG5cbiAgICAvLyBWZXJpZnkgYWNjZXNzIHRvIHRoZSBuZXcgcmVwb1xuICAgIGNvbnN0IHsgZGF0YTogaW5zdGFsbGF0aW9uIH0gPSBhd2FpdCBjbGllbnRcbiAgICAgIC5mcm9tKFwiZ2l0aHViX2luc3RhbGxhdGlvbnNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAuZXEoXCJpbnN0YWxsZWRfYnlcIiwgdXNlci5pZClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmICghaW5zdGFsbGF0aW9uKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiR2l0SHViIEFwcCBub3QgaW5zdGFsbGVkIVwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgdmVyaWZ5R2l0aHViUmVwb0FjY2VzcyhcbiAgICAgIGluc3RhbGxhdGlvbi5pbnN0YWxsYXRpb25faWQudG9TdHJpbmcoKSxcbiAgICAgIG93bmVyLFxuICAgICAgcmVwbyxcbiAgICApO1xuXG4gICAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjpcbiAgICAgICAgICBcIkNhbm5vdCBhY2Nlc3MgdGhpcyByZXBvc2l0b3J5LiBNYWtlIHN1cmUgdGhlIEdpdEh1YiBBcHAgaXMgaW5zdGFsbGVkIGZvciB0aGlzIHJlcG9zaXRvcnkuXCIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEucmVwb191cmwgPSBzZXR0aW5ncy5yZXBvX3VybDtcbiAgICB1cGRhdGVEYXRhLmluZGV4X3N0YXR1cyA9IFwibm90IGluZGV4ZWRcIjsgLy8gVHJpZ2dlciByZS1pbmRleGluZ1xuICB9XG5cbiAgLy8gSGFuZGxlIGxvY2FsIGZpbGUgdXBsb2FkXG4gIGlmIChzZXR0aW5ncy5maWxlICYmIGN1cnJlbnRSZXBvLnByb3ZpZGVyID09PSBcImxvY2FsXCIpIHtcbiAgICBjb25zdCBmaWxlID0gc2V0dGluZ3MuZmlsZTtcbiAgICBjb25zdCBmaWxlRXh0ID0gZmlsZS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcblxuICAgIGlmIChmaWxlRXh0ICE9PSBcInppcFwiKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiT25seSAuemlwIGZpbGVzIGFyZSBhbGxvd2VkIVwiIH07XG4gICAgfVxuXG4gICAgLy8gVXBsb2FkIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3JlcG9JZH0tJHtEYXRlLm5vdygpfS56aXBgO1xuICAgIGNvbnN0IHsgZGF0YTogdXBsb2FkRGF0YSwgZXJyb3I6IHVwbG9hZEVycm9yIH0gPSBhd2FpdCBjbGllbnQuc3RvcmFnZVxuICAgICAgLmZyb20oXCJsb2NhbF9yZXBvc1wiKVxuICAgICAgLnVwbG9hZChmaWxlTmFtZSwgZmlsZSk7XG5cbiAgICBpZiAodXBsb2FkRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IodXBsb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byB1cGxvYWQgZmlsZSFcIiB9O1xuICAgIH1cblxuICAgIC8vIEdldCBwdWJsaWMgVVJMXG4gICAgY29uc3QgeyBkYXRhOiB1cmxEYXRhIH0gPSBjbGllbnQuc3RvcmFnZVxuICAgICAgLmZyb20oXCJsb2NhbF9yZXBvc1wiKVxuICAgICAgLmdldFB1YmxpY1VybChmaWxlTmFtZSk7XG5cbiAgICB1cGRhdGVEYXRhLm9iamVjdF91cmwgPSB1cmxEYXRhLnB1YmxpY1VybDtcbiAgICB1cGRhdGVEYXRhLmluZGV4X3N0YXR1cyA9IFwicGVuZGluZ1wiOyAvLyBUcmlnZ2VyIHJlLWluZGV4aW5nXG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIHJlcG9zaXRvcnlcbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgLmVxKFwiaWRcIiwgcmVwb0lkKVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gYXMgUmVwbyB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUmVwbyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx7IG9yZ2FuaXphdGlvbklkOiBzdHJpbmcgfT4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICAvLyBGZXRjaCB0aGUgb3JnYW5pemF0aW9uX2lkIGJlZm9yZSBkZWxldGluZ1xuICBjb25zdCB7IGRhdGE6IHJlcG8sIGVycm9yOiByZXBvRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnNlbGVjdChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKHJlcG9FcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IocmVwb0Vycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlcG9FcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXJlcG8pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgY2xpZW50LmZyb20oXCJyZXBvc2l0b3JpZXNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCByZXBvSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBvcmdhbml6YXRpb25JZDogcmVwby5vcmdhbml6YXRpb25faWQgfSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJpZ2dlclJlaW5kZXgoXG4gIHJlcG9JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGluZGV4X3N0YXR1cyB0byAncGVuZGluZycgdG8gdHJpZ2dlciByZWluZGV4aW5nXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnVwZGF0ZSh7IGluZGV4X3N0YXR1czogXCJwZW5kaW5nXCIgfSlcbiAgICAuZXEoXCJpZFwiLCByZXBvSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgLy8gVE9ETzogVHJpZ2dlciBhY3R1YWwgaW5kZXhpbmcgam9iL3dlYmhvb2svcXVldWUgaGVyZVxuICAvLyBUaGlzIGNvdWxkIGJlIGFuIEFQSSBjYWxsIHRvIHlvdXIgaW5kZXhpbmcgc2VydmljZVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEb2N1bWVudGF0aW9uIFNlcnZpY2VzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2N1bWVudGF0aW9uKFxuICByZXBvSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PERvY3VtZW50YXRpb24+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2N1bWVudGF0aW9uXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJyZXBvX2lkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIWRvY3VtZW50YXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZG9jdW1lbnRhdGlvbiBhcyBEb2N1bWVudGF0aW9uIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2NQYWdlcyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2NQYWdlW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gR2V0IHRoZSBsYXRlc3QgZG9jdW1lbnRhdGlvbiB2ZXJzaW9uIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvcjogZG9jRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgIC5lcShcInJlcG9faWRcIiwgcmVwb0lkKVxuICAgIC5vcmRlcihcInZlcnNpb25cIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgLmxpbWl0KDEpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChkb2NFcnJvciB8fCAhZG9jdW1lbnRhdGlvbikge1xuICAgIGNvbnNvbGUuZXJyb3IoZG9jRXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEb2N1bWVudGF0aW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHBhZ2VzLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJwYWdlc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiZG9jdW1lbnRhdGlvbl9pZFwiLCBkb2N1bWVudGF0aW9uLmlkKVxuICAgIC5vcmRlcihcIm9yZGVyX2luZGV4XCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKHBhZ2VzID8/IFtdKSBhcyBEb2NQYWdlW10gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY1BhZ2VCeUlkKFxuICBwYWdlSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PERvY1BhZ2U+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBwYWdlLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2NfcGFnZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHBhZ2VJZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXBhZ2UpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGFnZSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcGFnZSBhcyBEb2NQYWdlIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2NQYWdlc0hpZXJhcmNoaWNhbChcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2NQYWdlW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gRmlyc3QgZ2V0IHRoZSBkb2N1bWVudGF0aW9uIElEIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvcjogZG9jRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgIC5lcShcInJlcG9faWRcIiwgcmVwb0lkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZG9jRXJyb3IgfHwgIWRvY3VtZW50YXRpb24pIHtcbiAgICBjb25zb2xlLmVycm9yKGRvY0Vycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBwYWdlcywgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jX3BhZ2VzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJkb2N1bWVudGF0aW9uX2lkXCIsIGRvY3VtZW50YXRpb24uaWQpXG4gICAgLm9yZGVyKFwib3JkZXJfaW5kZXhcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICAvLyBQYWdlcyBhcmUgYWxyZWFkeSBzb3J0ZWQgYnkgb3JkZXJfaW5kZXhcbiAgLy8gVGhlIHBhcmVudF9wYWdlX2lkIGZpZWxkIG1haW50YWlucyB0aGUgaGllcmFyY2h5XG4gIC8vIEZyb250ZW5kIGNhbiB1c2UgdGhpcyB0byByZW5kZXIgdGhlIHRyZWUgc3RydWN0dXJlXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IChwYWdlcyA/PyBbXSkgYXMgRG9jUGFnZVtdIH07XG59XG5cbi8qKlxuICogR2V0IGFsbCBkb2N1bWVudGF0aW9uIHZlcnNpb25zIGZvciBhIHJlcG9zaXRvcnlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50YXRpb25WZXJzaW9ucyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2N1bWVudGF0aW9uW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiB2ZXJzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiAodmVyc2lvbnMgPz8gW10pIGFzIERvY3VtZW50YXRpb25bXSB9O1xufVxuXG4vKipcbiAqIEdldCB0aGUgbGF0ZXN0IGNvbXBsZXRlZCBkb2N1bWVudGF0aW9uIHZlcnNpb24gZm9yIGEgcmVwb3NpdG9yeVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGF0ZXN0RG9jdW1lbnRhdGlvbihcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2N1bWVudGF0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogZG9jdW1lbnRhdGlvbiwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFkb2N1bWVudGF0aW9uKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRvY3VtZW50YXRpb24gbm90IGZvdW5kXCIgfTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZG9jdW1lbnRhdGlvbiBhcyBEb2N1bWVudGF0aW9uIH07XG59XG5cbi8qKlxuICogR2V0IGRvY3VtZW50YXRpb24gcGFnZXMgZm9yIGEgc3BlY2lmaWMgdmVyc2lvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jUGFnZXNGb3JWZXJzaW9uKFxuICByZXBvSWQ6IHN0cmluZyxcbiAgdmVyc2lvbjogbnVtYmVyLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8RG9jUGFnZVtdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnRhdGlvbiByZWNvcmQgZm9yIHRoaXMgdmVyc2lvblxuICBjb25zdCB7IGRhdGE6IGRvY3VtZW50YXRpb24sIGVycm9yOiBkb2NFcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2N1bWVudGF0aW9uXCIpXG4gICAgLnNlbGVjdChcImlkXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLmVxKFwidmVyc2lvblwiLCB2ZXJzaW9uKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZG9jRXJyb3IgfHwgIWRvY3VtZW50YXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiB2ZXJzaW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHBhZ2VzLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJwYWdlc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiZG9jdW1lbnRhdGlvbl9pZFwiLCBkb2N1bWVudGF0aW9uLmlkKVxuICAgIC5vcmRlcihcIm9yZGVyX2luZGV4XCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKHBhZ2VzID8/IFtdKSBhcyBEb2NQYWdlW10gfTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ29udmVyc2F0aW9uIFNlcnZpY2VzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25zKFxuICByZXBvSWQ6IHN0cmluZyxcbiAgbGltaXQ6IG51bWJlciA9IDIwLFxuICB2ZXJzaW9uOiBudW1iZXIgfCBudWxsID0gbnVsbCxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvbnZlcnNhdGlvbltdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGxldCBxdWVyeSA9IGNsaWVudFxuICAgIC5mcm9tKFwiY29udmVyc2F0aW9uc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKTtcblxuICAvLyBGaWx0ZXIgYnkgdmVyc2lvbiBpZiBzcGVjaWZpZWRcbiAgaWYgKHZlcnNpb24gIT09IG51bGwgJiYgdmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcXVlcnkgPSBxdWVyeS5lcShcInJlcG9fdmVyc2lvblwiLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9ucywgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XG4gICAgLm9yZGVyKFwidXBkYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQobGltaXQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKGNvbnZlcnNhdGlvbnMgPz8gW10pIGFzIENvbnZlcnNhdGlvbltdIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25CeUlkKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJpZFwiLCBjb252ZXJzYXRpb25JZClcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgaWYgKCFjb252ZXJzYXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ29udmVyc2F0aW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBjb252ZXJzYXRpb24gYXMgQ29udmVyc2F0aW9uIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb252ZXJzYXRpb24oXG4gIHJlcG9JZDogc3RyaW5nLFxuICB0aXRsZT86IHN0cmluZyxcbiAgdmVyc2lvbj86IG51bWJlciB8IG51bGwsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxDb252ZXJzYXRpb24+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBjb252ZXJzYXRpb24sIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImNvbnZlcnNhdGlvbnNcIilcbiAgICAuaW5zZXJ0KHtcbiAgICAgIHJlcG9faWQ6IHJlcG9JZCxcbiAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICB0aXRsZTogdGl0bGUgfHwgXCJOZXcgQ29udmVyc2F0aW9uXCIsXG4gICAgICByZXBvX3ZlcnNpb246IHZlcnNpb24gPz8gbnVsbCxcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGNvbnZlcnNhdGlvbiBhcyBDb252ZXJzYXRpb24gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbnZlcnNhdGlvbihcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLmRlbGV0ZSgpXG4gICAgLmVxKFwiaWRcIiwgY29udmVyc2F0aW9uSWQpXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuYW1lQ29udmVyc2F0aW9uKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICBuZXdUaXRsZTogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLnVwZGF0ZSh7IHRpdGxlOiBuZXdUaXRsZSB9KVxuICAgIC5lcShcImlkXCIsIGNvbnZlcnNhdGlvbklkKVxuICAgIC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBjb252ZXJzYXRpb24gYXMgQ29udmVyc2F0aW9uIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1lc3NhZ2UgU2VydmljZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbk1lc3NhZ2VzKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uTWVzc2FnZVtdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogbWVzc2FnZXMsIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcIm1lc3NhZ2VzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJjb252ZXJzYXRpb25faWRcIiwgY29udmVyc2F0aW9uSWQpXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IChtZXNzYWdlcyA/PyBbXSkgYXMgQ29udmVyc2F0aW9uTWVzc2FnZVtdIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNZXNzYWdlKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICByb2xlOiBcInVzZXJcIiB8IFwiYXNzaXN0YW50XCIsXG4gIGNvbnRlbnQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvbnZlcnNhdGlvbk1lc3NhZ2U+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBtZXNzYWdlLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJtZXNzYWdlc1wiKVxuICAgIC5pbnNlcnQoe1xuICAgICAgY29udmVyc2F0aW9uX2lkOiBjb252ZXJzYXRpb25JZCxcbiAgICAgIHJvbGUsXG4gICAgICBjb250ZW50LFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSBjb252ZXJzYXRpb24ncyB1cGRhdGVkX2F0IHRpbWVzdGFtcFxuICBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImNvbnZlcnNhdGlvbnNcIilcbiAgICAudXBkYXRlKHsgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgLmVxKFwiaWRcIiwgY29udmVyc2F0aW9uSWQpO1xuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1lc3NhZ2UgYXMgQ29udmVyc2F0aW9uTWVzc2FnZSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUNvZGVTbmlwcGV0cyhcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gIHNuaXBwZXRzOiBBcnJheTx7IGZpbGU6IHN0cmluZzsgY29kZTogc3RyaW5nIH0+LFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29kZVNuaXBwZXRbXT4+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCBzbmlwcGV0c1RvSW5zZXJ0ID0gc25pcHBldHMubWFwKChzbmlwcGV0KSA9PiAoe1xuICAgIGNvbnZlcnNhdGlvbl9pZDogY29udmVyc2F0aW9uSWQsXG4gICAgbWVzc2FnZV9pZDogbWVzc2FnZUlkLFxuICAgIGZpbGVfcGF0aDogc25pcHBldC5maWxlLFxuICAgIGNvZGVfY29udGVudDogc25pcHBldC5jb2RlLFxuICAgIGxhbmd1YWdlOiBzbmlwcGV0LmZpbGUuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IG51bGwsXG4gIH0pKTtcblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiY29kZV9zbmlwcGV0c1wiKVxuICAgIC5pbnNlcnQoc25pcHBldHNUb0luc2VydClcbiAgICAuc2VsZWN0KCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkYXRhIGFzIENvZGVTbmlwcGV0W10gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvZGVTbmlwcGV0c0ZvckNvbnZlcnNhdGlvbihcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvZGVTbmlwcGV0W10+PiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbShcImNvZGVfc25pcHBldHNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImNvbnZlcnNhdGlvbl9pZFwiLCBjb252ZXJzYXRpb25JZClcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGRhdGEgYXMgQ29kZVNuaXBwZXRbXSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29kZVNuaXBwZXQoXG4gIHNuaXBwZXRJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8bnVsbD4+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiY29kZV9zbmlwcGV0c1wiKVxuICAgIC5kZWxldGUoKVxuICAgIC5lcShcImlkXCIsIHNuaXBwZXRJZCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbmRleFJlcG9zaXRvcnkoXG4gIHJlcG9JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGluc3RhbGxhdGlvbiwgZXJyb3I6IGluc3RhbGxhdGlvbkVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImdpdGh1Yl9pbnN0YWxsYXRpb25zXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJpbnN0YWxsZWRfYnlcIiwgdXNlci5pZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFpbnN0YWxsYXRpb24gfHwgaW5zdGFsbGF0aW9uRXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiR2l0aHViIEFwcCBJbnN0YWxsYXRpb24gbm90IGZvdW5kIVwiIH07XG4gIH1cblxuICAvL2ZldGNoIHJlcG9cblxuICBjb25zdCByZXBvUmVzdWx0ID0gYXdhaXQgZ2V0UmVwb1dpdGhTdGF0dXMocmVwb0lkKTtcblxuICBpZiAoIXJlcG9SZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVwb1Jlc3VsdC5lcnJvciB9O1xuICB9XG5cbiAgY29uc3QgcmVwb1VybCA9IHJlcG9SZXN1bHQuZGF0YS5yZXBvX3VybDtcbiAgY29uc3QgaW5zdGFsbGF0aW9uSWQgPSBpbnN0YWxsYXRpb24uaW5zdGFsbGF0aW9uX2lkO1xuXG4gIC8vIEdldCB0aGUgbGF0ZXN0IHZlcnNpb24gbnVtYmVyIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBsYXRlc3REb2MgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJ2ZXJzaW9uXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgLy8gSW5jcmVtZW50IHZlcnNpb24gKHN0YXJ0IGF0IDEgaWYgbm8gcHJldmlvdXMgdmVyc2lvbnMpXG4gIGNvbnN0IG5leHRWZXJzaW9uID0gKGxhdGVzdERvYz8udmVyc2lvbiA/PyAwKSArIDE7XG5cbiAgLy9tYXJrIHRoZSByZXBvc2l0b3J5IGFzIGluZGV4aW5nIGluIHN1cGFiYXNlIGZpcnN0XG4gIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlcG9zaXRvcmllc1wiKVxuICAgIC51cGRhdGUoeyBpbmRleF9zdGF0dXM6IFwiaW5kZXhpbmdcIiB9KVxuICAgIC5lcShcImlkXCIsIHJlcG9JZCk7XG5cbiAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcih1cGRhdGVFcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB1cGRhdGVFcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICAvLyBDYWxsIHRoZSBiYWNrZW5kIHRvIHN0YXJ0IGluZGV4aW5nIChmaXJlLWFuZC1mb3JnZXQpXG4gIC8vIERvbid0IGF3YWl0IG9yIHRocm93IGVycm9ycyBzaW5jZSB0aGlzIGlzIGEgbG9uZy1ydW5uaW5nIG9wZXJhdGlvblxuICBmZXRjaChgJHtwcm9jZXNzLmVudi5CQUNLRU5EX1VSTH0vcmVwb3MvaW5kZXhgLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHJlcG9fdXJsOiByZXBvVXJsLFxuICAgICAgcmVwb19pZDogcmVwb0lkLFxuICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgIGluc3RhbGxhdGlvbl9pZDogaW5zdGFsbGF0aW9uSWQsXG4gICAgICBicmFuY2g6IFwibWFpblwiLFxuICAgICAgdmVyc2lvbjogbmV4dFZlcnNpb24sXG4gICAgfSksXG4gIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIC8vIExvZyB0aGUgZXJyb3IgYnV0IGRvbid0IGZhaWwgdGhlIHJlcXVlc3RcbiAgICBjb25zb2xlLmVycm9yKFwiSW5kZXhpbmcgcmVxdWVzdCBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAvLyBUaGUgYmFja2VuZCBzaG91bGQgaGFuZGxlIHVwZGF0aW5nIHRoZSByZXBvIHN0YXR1cyBvbiBmYWlsdXJlXG4gIH0pO1xuXG4gIC8vIFJldHVybiBzdWNjZXNzIGltbWVkaWF0ZWx5IC0gdGhlIGluZGV4aW5nIHdpbGwgaGFwcGVuIGluIHRoZSBiYWNrZ3JvdW5kXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0U0E0THNCIn0=
}),
"[project]/src/lib/services/data:bc00c6 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"60d47ca7668eae22c2d601af18f33d54c4ab50b6f6":"createRepoViaLocalFile"},"src/lib/services/repoService.ts",""] */ __turbopack_context__.s([
    "createRepoViaLocalFile",
    ()=>createRepoViaLocalFile
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var createRepoViaLocalFile = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("60d47ca7668eae22c2d601af18f33d54c4ab50b6f6", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createRepoViaLocalFile"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vcmVwb1NlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL3V0aWxzL3N1cGFiYXNlL3NlcnZlclwiO1xuaW1wb3J0IHtcbiAgUmVwbyxcbiAgRG9jdW1lbnRhdGlvbixcbiAgRG9jUGFnZSxcbiAgQ29udmVyc2F0aW9uLFxuICBDb252ZXJzYXRpb25NZXNzYWdlLFxuICBDb2RlU25pcHBldCxcbn0gZnJvbSBcIkAvYXBwL3R5cGVzL3N1cGFiYXNlXCI7XG5pbXBvcnQgeyBBY3Rpb25SZXN1bHQgfSBmcm9tIFwiQC9hcHAvdHlwZXMvYWN0aW9uXCI7XG5pbXBvcnQge1xuICB2ZXJpZnlHaXRodWJSZXBvQWNjZXNzLFxuICB2ZXJpZnlHaXRMYWJSZXBvQWNjZXNzLFxufSBmcm9tIFwiLi9naXRQcm92aWRlclNlcnZpY2VcIjtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIEdpdEh1YiBVUkxzXG5mdW5jdGlvbiBwYXJzZUdpdEh1YlVybCh1cmw6IHN0cmluZyk6IHsgb3duZXI6IHN0cmluZzsgcmVwbzogc3RyaW5nIH0ge1xuICB0cnkge1xuICAgIC8vIEhhbmRsZSBtdWx0aXBsZSBmb3JtYXRzOlxuICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL293bmVyL3JlcG9cbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9vd25lci9yZXBvLmdpdFxuICAgIC8vIC0gZ2l0QGdpdGh1Yi5jb206b3duZXIvcmVwby5naXRcblxuICAgIHVybCA9IHVybC50cmltKCkucmVwbGFjZSgvXFwuZ2l0JC8sIFwiXCIpO1xuXG4gICAgaWYgKHVybC5pbmNsdWRlcyhcImdpdGh1Yi5jb20vXCIpKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHVybC5zcGxpdChcImdpdGh1Yi5jb20vXCIpWzFdLnNwbGl0KFwiL1wiKTtcbiAgICAgIHJldHVybiB7IG93bmVyOiBwYXJ0c1swXSwgcmVwbzogcGFydHNbMV0gfTtcbiAgICB9XG5cbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJnaXRAZ2l0aHViLmNvbTpcIikpIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gdXJsLnJlcGxhY2UoXCJnaXRAZ2l0aHViLmNvbTpcIiwgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgICAgcmV0dXJuIHsgb3duZXI6IHBhcnRzWzBdLCByZXBvOiBwYXJ0c1sxXSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IG93bmVyOiBcIlwiLCByZXBvOiBcIlwiIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgb3duZXI6IFwiXCIsIHJlcG86IFwiXCIgfTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgR2l0TGFiIFVSTHNcbmZ1bmN0aW9uIHBhcnNlR2l0TGFiVXJsKHVybDogc3RyaW5nKTogeyBvd25lcjogc3RyaW5nOyByZXBvOiBzdHJpbmcgfSB7XG4gIHRyeSB7XG4gICAgLy8gSGFuZGxlIG11bHRpcGxlIGZvcm1hdHM6XG4gICAgLy8gLSBodHRwczovL2dpdGxhYi5jb20vb3duZXIvcmVwb1xuICAgIC8vIC0gaHR0cHM6Ly9naXRsYWIuY29tL293bmVyL3N1Ymdyb3VwL3JlcG9cbiAgICAvLyAtIGh0dHBzOi8vZ2l0bGFiLmNvbS9vd25lci9yZXBvLmdpdFxuICAgIC8vIC0gZ2l0QGdpdGxhYi5jb206b3duZXIvcmVwby5naXRcbiAgICAvLyAtIFNlbGYtaG9zdGVkOiBodHRwczovL2dpdGxhYi5leGFtcGxlLmNvbS9vd25lci9yZXBvXG5cbiAgICB1cmwgPSB1cmwudHJpbSgpLnJlcGxhY2UoL1xcLmdpdCQvLCBcIlwiKTtcblxuICAgIC8vIEhhbmRsZSBIVFRQUyBVUkxzIChnaXRsYWIuY29tIG9yIHNlbGYtaG9zdGVkKVxuICAgIGlmICh1cmwuaW5jbHVkZXMoXCJnaXRsYWIuY29tL1wiKSB8fCAvZ2l0bGFiXFwuW14vXStcXC8vLnRlc3QodXJsKSkge1xuICAgICAgLy8gRXh0cmFjdCB0aGUgcGF0aCBhZnRlciB0aGUgZG9tYWluXG4gICAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvZ2l0bGFiW14vXSpcXC8oLispLyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gbWF0Y2hbMV0uc3BsaXQoXCIvXCIpO1xuICAgICAgICAvLyBHaXRMYWIgc3VwcG9ydHMgbmVzdGVkIGdyb3Vwcywgc28gd2UgbmVlZCB0byBoYW5kbGU6XG4gICAgICAgIC8vIC0gb3duZXIvcmVwbyAoMiBwYXJ0cylcbiAgICAgICAgLy8gLSBvd25lci9zdWJncm91cC9yZXBvICgzKyBwYXJ0cylcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIC8vIFRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIGxhc3QgcGFydCBhcyBvd25lci9ncm91cFxuICAgICAgICAgIGNvbnN0IHJlcG8gPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG93bmVyID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICByZXR1cm4geyBvd25lciwgcmVwbyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFNTSCBVUkxzXG4gICAgaWYgKHVybC5zdGFydHNXaXRoKFwiZ2l0QGdpdGxhYi5jb206XCIpIHx8IC9naXRAZ2l0bGFiXFwuW146XSs6Ly50ZXN0KHVybCkpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKC9naXRAZ2l0bGFiW146XSo6KC4rKS8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IG1hdGNoWzFdLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIGNvbnN0IHJlcG8gPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IG93bmVyID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgICByZXR1cm4geyBvd25lciwgcmVwbyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgb3duZXI6IFwiXCIsIHJlcG86IFwiXCIgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBvd25lcjogXCJcIiwgcmVwbzogXCJcIiB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXBvc0J5T3JnYW5pemF0aW9uSWQoXG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxSZXBvW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHVzZXIgPSBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJvcmdhbml6YXRpb25faWRcIiwgb3JnYW5pemF0aW9uSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKGRhdGEgPz8gW10pIGFzIFJlcG9bXSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVwb1ZpYUdpdGh1YihcbiAgZm9ybURhdGE6IEZvcm1EYXRhLFxuICBvcmdJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8UmVwbyB8IHVuZGVmaW5lZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICBjb25zdCBuYW1lID0gZm9ybURhdGEuZ2V0KFwibmFtZVwiKSBhcyBzdHJpbmc7XG4gIGNvbnN0IHByb3ZpZGVyID0gZm9ybURhdGEuZ2V0KFwidHlwZVwiKSBhcyBzdHJpbmc7XG4gIGNvbnN0IHVybCA9IGZvcm1EYXRhLmdldChcImdpdGh1Yi11cmxcIikgYXMgc3RyaW5nO1xuXG4gIGlmICghbmFtZSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOYW1lIGlzIHJlcXVpcmVkIVwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGluc3RhbGxhdGlvbiB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJnaXRodWJfaW5zdGFsbGF0aW9uc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiaW5zdGFsbGVkX2J5XCIsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmICghaW5zdGFsbGF0aW9uKSB7XG4gICAgLy8gTm8gR2l0SHViIEFwcCBpbnN0YWxsYXRpb24gLSBwcm9tcHQgdXNlciB0byBpbnN0YWxsXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiSW5zdGFsbGF0aW9uIE5lZWRlZFwiLFxuICAgIH07XG4gIH1cblxuICAvL3BhcnNlIHVybCBmb3Igb3duZXIgYW5kIHJlcG9cbiAgY29uc3QgeyBvd25lciwgcmVwbzogcmVwb05hbWUgfSA9IHBhcnNlR2l0SHViVXJsKHVybCk7XG5cbiAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgdmVyaWZ5R2l0aHViUmVwb0FjY2VzcyhcbiAgICBpbnN0YWxsYXRpb24uaWQsXG4gICAgb3duZXIsXG4gICAgcmVwb05hbWUsXG4gICk7XG5cbiAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogXCJBY2Nlc3MgRGVuaWVkXCIsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogcmVwbywgZXJyb3I6IHJlcG9FcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuaW5zZXJ0KHtcbiAgICAgIG5hbWUsXG4gICAgICBwcm92aWRlcixcbiAgICAgIHJlcG9fdXJsOiB1cmwsXG4gICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ0lkLFxuICAgICAgaW5kZXhlZF9ieTogdXNlci5pZCxcbiAgICAgIGluZGV4X3N0YXR1czogXCJub3QgaW5kZXhlZFwiLFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChyZXBvRXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlcG9FcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXBvIGFzIFJlcG8gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcG9WaWFHaXRsYWIoXG4gIGZvcm1EYXRhOiBGb3JtRGF0YSxcbiAgb3JnSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8gfCB1bmRlZmluZWQ+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldChcIm5hbWVcIikgYXMgc3RyaW5nO1xuICBjb25zdCBwcm92aWRlciA9IGZvcm1EYXRhLmdldChcInR5cGVcIikgYXMgc3RyaW5nO1xuICBjb25zdCB1cmwgPSBmb3JtRGF0YS5nZXQoXCJnaXRsYWItdXJsXCIpIGFzIHN0cmluZztcblxuICAvLyBWYWxpZGF0ZSBpbnB1dHNcbiAgaWYgKCFuYW1lIHx8IG5hbWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlJlcG9zaXRvcnkgbmFtZSBpcyByZXF1aXJlZFwiIH07XG4gIH1cblxuICBpZiAoIXVybCB8fCB1cmwudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkdpdExhYiBVUkwgaXMgcmVxdWlyZWRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBpbnN0YWxsYXRpb24gfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZ2l0bGFiX2luc3RhbGxhdGlvbnNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImluc3RhbGxlZF9ieVwiLCB1c2VyLmlkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoIWluc3RhbGxhdGlvbikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnN0YWxsYXRpb24gTmVlZGVkXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgb3duZXIsIHJlcG86IHJlcG9OYW1lIH0gPSBwYXJzZUdpdExhYlVybCh1cmwpO1xuXG4gIC8vdmVyaWZ5IGFjY2Vzc1xuICBjb25zdCBoYXNBY2Nlc3MgPSBhd2FpdCB2ZXJpZnlHaXRMYWJSZXBvQWNjZXNzKFxuICAgIGluc3RhbGxhdGlvbi5hY2Nlc3NfdG9rZW4sXG4gICAgb3duZXIsXG4gICAgcmVwb05hbWUsXG4gICk7XG5cbiAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICBpZiAoaW5zdGFsbGF0aW9uLmFjY2Vzc190b2tlbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBcIkFjY2VzcyByZXF1aXJlZCFcIixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiQWNjZXNzIGRlbmllZCFcIixcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvcjogcmVwb0Vycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlcG9zaXRvcmllc1wiKVxuICAgIC5pbnNlcnQoe1xuICAgICAgbmFtZSxcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgcmVwb191cmw6IHVybCxcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnSWQsXG4gICAgICBpbmRleGVkX2J5OiB1c2VyLmlkLFxuICAgICAgaW5kZXhfc3RhdHVzOiBcIm5vdCBpbmRleGVkXCIsXG4gICAgfSlcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKHJlcG9FcnJvcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVwb0Vycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcG9WaWFMb2NhbEZpbGUoXG4gIGZvcm1EYXRhOiBGb3JtRGF0YSxcbiAgb3JnSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgbmFtZSA9IGZvcm1EYXRhLmdldChcIm5hbWVcIikgYXMgc3RyaW5nO1xuICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KFwiZmlsZVwiKSBhcyBGaWxlO1xuXG4gIC8vIFZhbGlkYXRlIGlucHV0c1xuICBpZiAoIW5hbWUgfHwgbmFtZS50cmltKCkgPT09IFwiXCIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBuYW1lIGlzIHJlcXVpcmVkXCIgfTtcbiAgfVxuXG4gIGlmICghZmlsZSkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGaWxlIGlzIHJlcXVpcmVkXCIgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIGZpbGUgdHlwZVxuICBpZiAoIWZpbGUubmFtZS5lbmRzV2l0aChcIi56aXBcIikpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiT25seSAuemlwIGZpbGVzIGFyZSBhbGxvd2VkXCIgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXRlIGZpbGUgc2l6ZSAobWF4IDEwME1CKVxuICBjb25zdCBtYXhTaXplID0gMTAwICogMTAyNCAqIDEwMjQ7IC8vIDEwME1CIGluIGJ5dGVzXG4gIGlmIChmaWxlLnNpemUgPiBtYXhTaXplKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFwiRmlsZSBzaXplIGV4Y2VlZHMgMTAwTUIgbGltaXRcIixcbiAgICB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBmaWxlIG5hbWUgdG8gcHJldmVudCBjb2xsaXNpb25zXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBzYW5pdGl6ZWROYW1lID0gbmFtZS50cmltKCkucmVwbGFjZSgvW15hLXowLTktX10vZ2ksIFwiX1wiKTtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3Nhbml0aXplZE5hbWV9XyR7dGltZXN0YW1wfV8ke2ZpbGUubmFtZX1gO1xuICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7b3JnSWR9LyR7ZmlsZU5hbWV9YDtcblxuICAgIC8vIFVwbG9hZCBmaWxlIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICBjb25zdCB7IGVycm9yOiB1cGxvYWRFcnJvciB9ID0gYXdhaXQgY2xpZW50LnN0b3JhZ2VcbiAgICAgIC5mcm9tKFwibG9jYWxfcmVwb3NcIilcbiAgICAgIC51cGxvYWQoZmlsZVBhdGgsIGZpbGUsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vemlwXCIsXG4gICAgICAgIHVwc2VydDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGlmICh1cGxvYWRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVwbG9hZCBlcnJvcjpcIiwgdXBsb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBgRmlsZSB1cGxvYWQgZmFpbGVkOiAke3VwbG9hZEVycm9yLm1lc3NhZ2V9YCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBwdWJsaWMgVVJMIGZvciB0aGUgdXBsb2FkZWQgZmlsZVxuICAgIGNvbnN0IHsgZGF0YTogdXJsRGF0YSB9ID0gY2xpZW50LnN0b3JhZ2VcbiAgICAgIC5mcm9tKFwibG9jYWxfcmVwb3NcIilcbiAgICAgIC5nZXRQdWJsaWNVcmwoZmlsZVBhdGgpO1xuXG4gICAgLy8gQ3JlYXRlIHJlcG9zaXRvcnkgcmVjb3JkIGluIGRhdGFiYXNlXG4gICAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvcjogcmVwb0Vycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgbmFtZTogbmFtZS50cmltKCksXG4gICAgICAgIHByb3ZpZGVyOiBcImxvY2FsXCIsXG4gICAgICAgIHJlcG9fdXJsOiBudWxsLFxuICAgICAgICBvYmplY3RfdXJsOiB1cmxEYXRhLnB1YmxpY1VybCxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdJZCxcbiAgICAgICAgaW5kZXhlZF9ieTogdXNlci5pZCxcbiAgICAgICAgaW5kZXhfc3RhdHVzOiBcIm5vdCBpbmRleGVkXCIsXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAocmVwb0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUmVwb3NpdG9yeSBjcmVhdGlvbiBlcnJvcjpcIiwgcmVwb0Vycm9yKTtcbiAgICAgIC8vIEF0dGVtcHQgdG8gY2xlYW4gdXAgdXBsb2FkZWQgZmlsZVxuICAgICAgYXdhaXQgY2xpZW50LnN0b3JhZ2UuZnJvbShcImxvY2FsX3JlcG9zXCIpLnJlbW92ZShbZmlsZVBhdGhdKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYFJlcG9zaXRvcnkgY3JlYXRpb24gZmFpbGVkOiAke3JlcG9FcnJvci5tZXNzYWdlfWAsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gYXMgUmVwbyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGVycm9yOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsXG4gICAgfTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBSZXBvc2l0b3J5IE1hbmFnZW1lbnQgU2VydmljZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlcG9XaXRoU3RhdHVzKFxuICByZXBvSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXJlcG8pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVwbyBhcyBSZXBvIH07XG59XG5cbnR5cGUgVXBkYXRlRGF0YSA9IHtcbiAgbmFtZT86IHN0cmluZztcbiAgcmVwb191cmw/OiBzdHJpbmc7XG4gIG9iamVjdF91cmw/OiBzdHJpbmc7XG4gIGluZGV4X3N0YXR1cz86IHN0cmluZztcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVSZXBvU2V0dGluZ3MoXG4gIHJlcG9JZDogc3RyaW5nLFxuICBzZXR0aW5nczogeyBuYW1lPzogc3RyaW5nOyByZXBvX3VybD86IHN0cmluZzsgZmlsZT86IEZpbGUgfSxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlcG8+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gR2V0IHRoZSBjdXJyZW50IHJlcG8gdG8gY2hlY2sgaXRzIHByb3ZpZGVyIHR5cGVcbiAgY29uc3QgeyBkYXRhOiBjdXJyZW50UmVwbyB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFjdXJyZW50UmVwbykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJSZXBvc2l0b3J5IG5vdCBmb3VuZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgdXBkYXRlRGF0YTogVXBkYXRlRGF0YSA9IHt9O1xuXG4gIC8vIEhhbmRsZSBuYW1lIHVwZGF0ZVxuICBpZiAoc2V0dGluZ3MubmFtZSkge1xuICAgIHVwZGF0ZURhdGEubmFtZSA9IHNldHRpbmdzLm5hbWU7XG4gIH1cblxuICAvLyBIYW5kbGUgR2l0SHViIFVSTCB1cGRhdGVcbiAgaWYgKHNldHRpbmdzLnJlcG9fdXJsICYmIGN1cnJlbnRSZXBvLnByb3ZpZGVyID09PSBcImdpdGh1YlwiKSB7XG4gICAgY29uc3QgeyBvd25lciwgcmVwbyB9ID0gcGFyc2VHaXRIdWJVcmwoc2V0dGluZ3MucmVwb191cmwpO1xuXG4gICAgaWYgKCFvd25lciB8fCAhcmVwbykge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkludmFsaWQgR2l0SHViIFVSTCBmb3JtYXQhXCIgfTtcbiAgICB9XG5cbiAgICAvLyBWZXJpZnkgYWNjZXNzIHRvIHRoZSBuZXcgcmVwb1xuICAgIGNvbnN0IHsgZGF0YTogaW5zdGFsbGF0aW9uIH0gPSBhd2FpdCBjbGllbnRcbiAgICAgIC5mcm9tKFwiZ2l0aHViX2luc3RhbGxhdGlvbnNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAuZXEoXCJpbnN0YWxsZWRfYnlcIiwgdXNlci5pZClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmICghaW5zdGFsbGF0aW9uKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiR2l0SHViIEFwcCBub3QgaW5zdGFsbGVkIVwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgaGFzQWNjZXNzID0gYXdhaXQgdmVyaWZ5R2l0aHViUmVwb0FjY2VzcyhcbiAgICAgIGluc3RhbGxhdGlvbi5pbnN0YWxsYXRpb25faWQudG9TdHJpbmcoKSxcbiAgICAgIG93bmVyLFxuICAgICAgcmVwbyxcbiAgICApO1xuXG4gICAgaWYgKCFoYXNBY2Nlc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjpcbiAgICAgICAgICBcIkNhbm5vdCBhY2Nlc3MgdGhpcyByZXBvc2l0b3J5LiBNYWtlIHN1cmUgdGhlIEdpdEh1YiBBcHAgaXMgaW5zdGFsbGVkIGZvciB0aGlzIHJlcG9zaXRvcnkuXCIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEucmVwb191cmwgPSBzZXR0aW5ncy5yZXBvX3VybDtcbiAgICB1cGRhdGVEYXRhLmluZGV4X3N0YXR1cyA9IFwibm90IGluZGV4ZWRcIjsgLy8gVHJpZ2dlciByZS1pbmRleGluZ1xuICB9XG5cbiAgLy8gSGFuZGxlIGxvY2FsIGZpbGUgdXBsb2FkXG4gIGlmIChzZXR0aW5ncy5maWxlICYmIGN1cnJlbnRSZXBvLnByb3ZpZGVyID09PSBcImxvY2FsXCIpIHtcbiAgICBjb25zdCBmaWxlID0gc2V0dGluZ3MuZmlsZTtcbiAgICBjb25zdCBmaWxlRXh0ID0gZmlsZS5uYW1lLnNwbGl0KFwiLlwiKS5wb3AoKTtcblxuICAgIGlmIChmaWxlRXh0ICE9PSBcInppcFwiKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiT25seSAuemlwIGZpbGVzIGFyZSBhbGxvd2VkIVwiIH07XG4gICAgfVxuXG4gICAgLy8gVXBsb2FkIHRvIFN1cGFiYXNlIFN0b3JhZ2VcbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke3JlcG9JZH0tJHtEYXRlLm5vdygpfS56aXBgO1xuICAgIGNvbnN0IHsgZGF0YTogdXBsb2FkRGF0YSwgZXJyb3I6IHVwbG9hZEVycm9yIH0gPSBhd2FpdCBjbGllbnQuc3RvcmFnZVxuICAgICAgLmZyb20oXCJsb2NhbF9yZXBvc1wiKVxuICAgICAgLnVwbG9hZChmaWxlTmFtZSwgZmlsZSk7XG5cbiAgICBpZiAodXBsb2FkRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IodXBsb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byB1cGxvYWQgZmlsZSFcIiB9O1xuICAgIH1cblxuICAgIC8vIEdldCBwdWJsaWMgVVJMXG4gICAgY29uc3QgeyBkYXRhOiB1cmxEYXRhIH0gPSBjbGllbnQuc3RvcmFnZVxuICAgICAgLmZyb20oXCJsb2NhbF9yZXBvc1wiKVxuICAgICAgLmdldFB1YmxpY1VybChmaWxlTmFtZSk7XG5cbiAgICB1cGRhdGVEYXRhLm9iamVjdF91cmwgPSB1cmxEYXRhLnB1YmxpY1VybDtcbiAgICB1cGRhdGVEYXRhLmluZGV4X3N0YXR1cyA9IFwicGVuZGluZ1wiOyAvLyBUcmlnZ2VyIHJlLWluZGV4aW5nXG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIHJlcG9zaXRvcnlcbiAgY29uc3QgeyBkYXRhOiByZXBvLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJyZXBvc2l0b3JpZXNcIilcbiAgICAudXBkYXRlKHVwZGF0ZURhdGEpXG4gICAgLmVxKFwiaWRcIiwgcmVwb0lkKVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlcG8gYXMgUmVwbyB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUmVwbyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx7IG9yZ2FuaXphdGlvbklkOiBzdHJpbmcgfT4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICAvLyBGZXRjaCB0aGUgb3JnYW5pemF0aW9uX2lkIGJlZm9yZSBkZWxldGluZ1xuICBjb25zdCB7IGRhdGE6IHJlcG8sIGVycm9yOiByZXBvRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnNlbGVjdChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5lcShcImlkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKHJlcG9FcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IocmVwb0Vycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlcG9FcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXJlcG8pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUmVwb3NpdG9yeSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgY2xpZW50LmZyb20oXCJyZXBvc2l0b3JpZXNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCByZXBvSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBvcmdhbml6YXRpb25JZDogcmVwby5vcmdhbml6YXRpb25faWQgfSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJpZ2dlclJlaW5kZXgoXG4gIHJlcG9JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGluZGV4X3N0YXR1cyB0byAncGVuZGluZycgdG8gdHJpZ2dlciByZWluZGV4aW5nXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwicmVwb3NpdG9yaWVzXCIpXG4gICAgLnVwZGF0ZSh7IGluZGV4X3N0YXR1czogXCJwZW5kaW5nXCIgfSlcbiAgICAuZXEoXCJpZFwiLCByZXBvSWQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgLy8gVE9ETzogVHJpZ2dlciBhY3R1YWwgaW5kZXhpbmcgam9iL3dlYmhvb2svcXVldWUgaGVyZVxuICAvLyBUaGlzIGNvdWxkIGJlIGFuIEFQSSBjYWxsIHRvIHlvdXIgaW5kZXhpbmcgc2VydmljZVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEb2N1bWVudGF0aW9uIFNlcnZpY2VzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2N1bWVudGF0aW9uKFxuICByZXBvSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PERvY3VtZW50YXRpb24+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2N1bWVudGF0aW9uXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJyZXBvX2lkXCIsIHJlcG9JZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIWRvY3VtZW50YXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZG9jdW1lbnRhdGlvbiBhcyBEb2N1bWVudGF0aW9uIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2NQYWdlcyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2NQYWdlW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gR2V0IHRoZSBsYXRlc3QgZG9jdW1lbnRhdGlvbiB2ZXJzaW9uIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvcjogZG9jRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgIC5lcShcInJlcG9faWRcIiwgcmVwb0lkKVxuICAgIC5vcmRlcihcInZlcnNpb25cIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgLmxpbWl0KDEpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChkb2NFcnJvciB8fCAhZG9jdW1lbnRhdGlvbikge1xuICAgIGNvbnNvbGUuZXJyb3IoZG9jRXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEb2N1bWVudGF0aW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHBhZ2VzLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJwYWdlc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiZG9jdW1lbnRhdGlvbl9pZFwiLCBkb2N1bWVudGF0aW9uLmlkKVxuICAgIC5vcmRlcihcIm9yZGVyX2luZGV4XCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKHBhZ2VzID8/IFtdKSBhcyBEb2NQYWdlW10gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY1BhZ2VCeUlkKFxuICBwYWdlSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PERvY1BhZ2U+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBwYWdlLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2NfcGFnZXNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIHBhZ2VJZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICBpZiAoIXBhZ2UpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGFnZSBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcGFnZSBhcyBEb2NQYWdlIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2NQYWdlc0hpZXJhcmNoaWNhbChcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2NQYWdlW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgLy8gRmlyc3QgZ2V0IHRoZSBkb2N1bWVudGF0aW9uIElEIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBkb2N1bWVudGF0aW9uLCBlcnJvcjogZG9jRXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgIC5lcShcInJlcG9faWRcIiwgcmVwb0lkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZG9jRXJyb3IgfHwgIWRvY3VtZW50YXRpb24pIHtcbiAgICBjb25zb2xlLmVycm9yKGRvY0Vycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiBub3QgZm91bmRcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBwYWdlcywgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jX3BhZ2VzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJkb2N1bWVudGF0aW9uX2lkXCIsIGRvY3VtZW50YXRpb24uaWQpXG4gICAgLm9yZGVyKFwib3JkZXJfaW5kZXhcIiwgeyBhc2NlbmRpbmc6IHRydWUgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICAvLyBQYWdlcyBhcmUgYWxyZWFkeSBzb3J0ZWQgYnkgb3JkZXJfaW5kZXhcbiAgLy8gVGhlIHBhcmVudF9wYWdlX2lkIGZpZWxkIG1haW50YWlucyB0aGUgaGllcmFyY2h5XG4gIC8vIEZyb250ZW5kIGNhbiB1c2UgdGhpcyB0byByZW5kZXIgdGhlIHRyZWUgc3RydWN0dXJlXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IChwYWdlcyA/PyBbXSkgYXMgRG9jUGFnZVtdIH07XG59XG5cbi8qKlxuICogR2V0IGFsbCBkb2N1bWVudGF0aW9uIHZlcnNpb25zIGZvciBhIHJlcG9zaXRvcnlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50YXRpb25WZXJzaW9ucyhcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2N1bWVudGF0aW9uW10+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiB2ZXJzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiAodmVyc2lvbnMgPz8gW10pIGFzIERvY3VtZW50YXRpb25bXSB9O1xufVxuXG4vKipcbiAqIEdldCB0aGUgbGF0ZXN0IGNvbXBsZXRlZCBkb2N1bWVudGF0aW9uIHZlcnNpb24gZm9yIGEgcmVwb3NpdG9yeVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGF0ZXN0RG9jdW1lbnRhdGlvbihcbiAgcmVwb0lkOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxEb2N1bWVudGF0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogZG9jdW1lbnRhdGlvbiwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFkb2N1bWVudGF0aW9uKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRvY3VtZW50YXRpb24gbm90IGZvdW5kXCIgfTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZG9jdW1lbnRhdGlvbiBhcyBEb2N1bWVudGF0aW9uIH07XG59XG5cbi8qKlxuICogR2V0IGRvY3VtZW50YXRpb24gcGFnZXMgZm9yIGEgc3BlY2lmaWMgdmVyc2lvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RG9jUGFnZXNGb3JWZXJzaW9uKFxuICByZXBvSWQ6IHN0cmluZyxcbiAgdmVyc2lvbjogbnVtYmVyLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8RG9jUGFnZVtdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnRhdGlvbiByZWNvcmQgZm9yIHRoaXMgdmVyc2lvblxuICBjb25zdCB7IGRhdGE6IGRvY3VtZW50YXRpb24sIGVycm9yOiBkb2NFcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJkb2N1bWVudGF0aW9uXCIpXG4gICAgLnNlbGVjdChcImlkXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLmVxKFwidmVyc2lvblwiLCB2ZXJzaW9uKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZG9jRXJyb3IgfHwgIWRvY3VtZW50YXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRG9jdW1lbnRhdGlvbiB2ZXJzaW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHBhZ2VzLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJwYWdlc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiZG9jdW1lbnRhdGlvbl9pZFwiLCBkb2N1bWVudGF0aW9uLmlkKVxuICAgIC5vcmRlcihcIm9yZGVyX2luZGV4XCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKHBhZ2VzID8/IFtdKSBhcyBEb2NQYWdlW10gfTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ29udmVyc2F0aW9uIFNlcnZpY2VzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25zKFxuICByZXBvSWQ6IHN0cmluZyxcbiAgbGltaXQ6IG51bWJlciA9IDIwLFxuICB2ZXJzaW9uOiBudW1iZXIgfCBudWxsID0gbnVsbCxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvbnZlcnNhdGlvbltdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGxldCBxdWVyeSA9IGNsaWVudFxuICAgIC5mcm9tKFwiY29udmVyc2F0aW9uc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKTtcblxuICAvLyBGaWx0ZXIgYnkgdmVyc2lvbiBpZiBzcGVjaWZpZWRcbiAgaWYgKHZlcnNpb24gIT09IG51bGwgJiYgdmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcXVlcnkgPSBxdWVyeS5lcShcInJlcG9fdmVyc2lvblwiLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9ucywgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XG4gICAgLm9yZGVyKFwidXBkYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQobGltaXQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogKGNvbnZlcnNhdGlvbnMgPz8gW10pIGFzIENvbnZlcnNhdGlvbltdIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb252ZXJzYXRpb25CeUlkKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJpZFwiLCBjb252ZXJzYXRpb25JZClcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgaWYgKCFjb252ZXJzYXRpb24pIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ29udmVyc2F0aW9uIG5vdCBmb3VuZFwiIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBjb252ZXJzYXRpb24gYXMgQ29udmVyc2F0aW9uIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb252ZXJzYXRpb24oXG4gIHJlcG9JZDogc3RyaW5nLFxuICB0aXRsZT86IHN0cmluZyxcbiAgdmVyc2lvbj86IG51bWJlciB8IG51bGwsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxDb252ZXJzYXRpb24+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBjb252ZXJzYXRpb24sIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImNvbnZlcnNhdGlvbnNcIilcbiAgICAuaW5zZXJ0KHtcbiAgICAgIHJlcG9faWQ6IHJlcG9JZCxcbiAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICB0aXRsZTogdGl0bGUgfHwgXCJOZXcgQ29udmVyc2F0aW9uXCIsXG4gICAgICByZXBvX3ZlcnNpb246IHZlcnNpb24gPz8gbnVsbCxcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGNvbnZlcnNhdGlvbiBhcyBDb252ZXJzYXRpb24gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbnZlcnNhdGlvbihcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLmRlbGV0ZSgpXG4gICAgLmVxKFwiaWRcIiwgY29udmVyc2F0aW9uSWQpXG4gICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuYW1lQ29udmVyc2F0aW9uKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICBuZXdUaXRsZTogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogY29udmVyc2F0aW9uLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJjb252ZXJzYXRpb25zXCIpXG4gICAgLnVwZGF0ZSh7IHRpdGxlOiBuZXdUaXRsZSB9KVxuICAgIC5lcShcImlkXCIsIGNvbnZlcnNhdGlvbklkKVxuICAgIC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBjb252ZXJzYXRpb24gYXMgQ29udmVyc2F0aW9uIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1lc3NhZ2UgU2VydmljZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbk1lc3NhZ2VzKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29udmVyc2F0aW9uTWVzc2FnZVtdPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7XG4gICAgZGF0YTogeyB1c2VyIH0sXG4gIH0gPSBhd2FpdCBjbGllbnQuYXV0aC5nZXRVc2VyKCk7XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQhXCIgfTtcbiAgfVxuXG4gIGNvbnN0IHsgZGF0YTogbWVzc2FnZXMsIGVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcIm1lc3NhZ2VzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJjb252ZXJzYXRpb25faWRcIiwgY29udmVyc2F0aW9uSWQpXG4gICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IChtZXNzYWdlcyA/PyBbXSkgYXMgQ29udmVyc2F0aW9uTWVzc2FnZVtdIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNZXNzYWdlKFxuICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICByb2xlOiBcInVzZXJcIiB8IFwiYXNzaXN0YW50XCIsXG4gIGNvbnRlbnQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvbnZlcnNhdGlvbk1lc3NhZ2U+PiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhOiB7IHVzZXIgfSxcbiAgfSA9IGF3YWl0IGNsaWVudC5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZCFcIiB9O1xuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBtZXNzYWdlLCBlcnJvciB9ID0gYXdhaXQgY2xpZW50XG4gICAgLmZyb20oXCJtZXNzYWdlc1wiKVxuICAgIC5pbnNlcnQoe1xuICAgICAgY29udmVyc2F0aW9uX2lkOiBjb252ZXJzYXRpb25JZCxcbiAgICAgIHJvbGUsXG4gICAgICBjb250ZW50LFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSBjb252ZXJzYXRpb24ncyB1cGRhdGVkX2F0IHRpbWVzdGFtcFxuICBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImNvbnZlcnNhdGlvbnNcIilcbiAgICAudXBkYXRlKHsgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgLmVxKFwiaWRcIiwgY29udmVyc2F0aW9uSWQpO1xuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1lc3NhZ2UgYXMgQ29udmVyc2F0aW9uTWVzc2FnZSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUNvZGVTbmlwcGV0cyhcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgbWVzc2FnZUlkOiBzdHJpbmcsXG4gIHNuaXBwZXRzOiBBcnJheTx7IGZpbGU6IHN0cmluZzsgY29kZTogc3RyaW5nIH0+LFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Q29kZVNuaXBwZXRbXT4+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCBzbmlwcGV0c1RvSW5zZXJ0ID0gc25pcHBldHMubWFwKChzbmlwcGV0KSA9PiAoe1xuICAgIGNvbnZlcnNhdGlvbl9pZDogY29udmVyc2F0aW9uSWQsXG4gICAgbWVzc2FnZV9pZDogbWVzc2FnZUlkLFxuICAgIGZpbGVfcGF0aDogc25pcHBldC5maWxlLFxuICAgIGNvZGVfY29udGVudDogc25pcHBldC5jb2RlLFxuICAgIGxhbmd1YWdlOiBzbmlwcGV0LmZpbGUuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IG51bGwsXG4gIH0pKTtcblxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiY29kZV9zbmlwcGV0c1wiKVxuICAgIC5pbnNlcnQoc25pcHBldHNUb0luc2VydClcbiAgICAuc2VsZWN0KCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkYXRhIGFzIENvZGVTbmlwcGV0W10gfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvZGVTbmlwcGV0c0ZvckNvbnZlcnNhdGlvbihcbiAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PENvZGVTbmlwcGV0W10+PiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbShcImNvZGVfc25pcHBldHNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImNvbnZlcnNhdGlvbl9pZFwiLCBjb252ZXJzYXRpb25JZClcbiAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGRhdGEgYXMgQ29kZVNuaXBwZXRbXSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29kZVNuaXBwZXQoXG4gIHNuaXBwZXRJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8bnVsbD4+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiY29kZV9zbmlwcGV0c1wiKVxuICAgIC5kZWxldGUoKVxuICAgIC5lcShcImlkXCIsIHNuaXBwZXRJZCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbmRleFJlcG9zaXRvcnkoXG4gIHJlcG9JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgY2xpZW50LmF1dGguZ2V0VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkIVwiIH07XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGluc3RhbGxhdGlvbiwgZXJyb3I6IGluc3RhbGxhdGlvbkVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcImdpdGh1Yl9pbnN0YWxsYXRpb25zXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJpbnN0YWxsZWRfYnlcIiwgdXNlci5pZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFpbnN0YWxsYXRpb24gfHwgaW5zdGFsbGF0aW9uRXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiR2l0aHViIEFwcCBJbnN0YWxsYXRpb24gbm90IGZvdW5kIVwiIH07XG4gIH1cblxuICAvL2ZldGNoIHJlcG9cblxuICBjb25zdCByZXBvUmVzdWx0ID0gYXdhaXQgZ2V0UmVwb1dpdGhTdGF0dXMocmVwb0lkKTtcblxuICBpZiAoIXJlcG9SZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVwb1Jlc3VsdC5lcnJvciB9O1xuICB9XG5cbiAgY29uc3QgcmVwb1VybCA9IHJlcG9SZXN1bHQuZGF0YS5yZXBvX3VybDtcbiAgY29uc3QgaW5zdGFsbGF0aW9uSWQgPSBpbnN0YWxsYXRpb24uaW5zdGFsbGF0aW9uX2lkO1xuXG4gIC8vIEdldCB0aGUgbGF0ZXN0IHZlcnNpb24gbnVtYmVyIGZvciB0aGlzIHJlcG9cbiAgY29uc3QgeyBkYXRhOiBsYXRlc3REb2MgfSA9IGF3YWl0IGNsaWVudFxuICAgIC5mcm9tKFwiZG9jdW1lbnRhdGlvblwiKVxuICAgIC5zZWxlY3QoXCJ2ZXJzaW9uXCIpXG4gICAgLmVxKFwicmVwb19pZFwiLCByZXBvSWQpXG4gICAgLm9yZGVyKFwidmVyc2lvblwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgLy8gSW5jcmVtZW50IHZlcnNpb24gKHN0YXJ0IGF0IDEgaWYgbm8gcHJldmlvdXMgdmVyc2lvbnMpXG4gIGNvbnN0IG5leHRWZXJzaW9uID0gKGxhdGVzdERvYz8udmVyc2lvbiA/PyAwKSArIDE7XG5cbiAgLy9tYXJrIHRoZSByZXBvc2l0b3J5IGFzIGluZGV4aW5nIGluIHN1cGFiYXNlIGZpcnN0XG4gIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBjbGllbnRcbiAgICAuZnJvbShcInJlcG9zaXRvcmllc1wiKVxuICAgIC51cGRhdGUoeyBpbmRleF9zdGF0dXM6IFwiaW5kZXhpbmdcIiB9KVxuICAgIC5lcShcImlkXCIsIHJlcG9JZCk7XG5cbiAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcih1cGRhdGVFcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB1cGRhdGVFcnJvci5tZXNzYWdlIH07XG4gIH1cblxuICAvLyBDYWxsIHRoZSBiYWNrZW5kIHRvIHN0YXJ0IGluZGV4aW5nIChmaXJlLWFuZC1mb3JnZXQpXG4gIC8vIERvbid0IGF3YWl0IG9yIHRocm93IGVycm9ycyBzaW5jZSB0aGlzIGlzIGEgbG9uZy1ydW5uaW5nIG9wZXJhdGlvblxuICBmZXRjaChgJHtwcm9jZXNzLmVudi5CQUNLRU5EX1VSTH0vcmVwb3MvaW5kZXhgLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHJlcG9fdXJsOiByZXBvVXJsLFxuICAgICAgcmVwb19pZDogcmVwb0lkLFxuICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgIGluc3RhbGxhdGlvbl9pZDogaW5zdGFsbGF0aW9uSWQsXG4gICAgICBicmFuY2g6IFwibWFpblwiLFxuICAgICAgdmVyc2lvbjogbmV4dFZlcnNpb24sXG4gICAgfSksXG4gIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIC8vIExvZyB0aGUgZXJyb3IgYnV0IGRvbid0IGZhaWwgdGhlIHJlcXVlc3RcbiAgICBjb25zb2xlLmVycm9yKFwiSW5kZXhpbmcgcmVxdWVzdCBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAvLyBUaGUgYmFja2VuZCBzaG91bGQgaGFuZGxlIHVwZGF0aW5nIHRoZSByZXBvIHN0YXR1cyBvbiBmYWlsdXJlXG4gIH0pO1xuXG4gIC8vIFJldHVybiBzdWNjZXNzIGltbWVkaWF0ZWx5IC0gdGhlIGluZGV4aW5nIHdpbGwgaGFwcGVuIGluIHRoZSBiYWNrZ3JvdW5kXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIrU0E0UXNCIn0=
}),
"[project]/src/components/dashboard/repos/new-repo-form.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NewProjectForm",
    ()=>NewProjectForm
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/separator.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/field.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/select.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$services$2f$data$3a$2f545c__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/lib/services/data:2f545c [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$services$2f$data$3a$368a37__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/lib/services/data:368a37 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$services$2f$data$3a$bc00c6__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/lib/services/data:bc00c6 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tanstack$2f$react$2d$query$2f$build$2f$modern$2f$QueryClientProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js [app-ssr] (ecmascript)");
"use client";
;
;
;
;
;
;
;
;
;
;
function NewProjectForm({ orgId }) {
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    const queryClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tanstack$2f$react$2d$query$2f$build$2f$modern$2f$QueryClientProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useQueryClient"])();
    const [name, setName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("");
    const [type, setType] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("local");
    const [uploadedFile, setUploadedFile] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [githubUrl, setGithubUrl] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("");
    const [gitlabUrl, setGitlabUrl] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("");
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [nameError, setNameError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setIsLoading(true);
        setError(null);
        try {
            const formData = new FormData(e.currentTarget);
            if (type === "local") {
                // Validate that a file has been uploaded
                if (!uploadedFile) {
                    setError("Please select a .zip file to upload");
                    setIsLoading(false);
                    return;
                }
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$services$2f$data$3a$bc00c6__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createRepoViaLocalFile"])(formData, orgId);
                if (!result.success) {
                    setError(result.error);
                    setIsLoading(false);
                    return;
                }
                // Invalidate repositories query to refetch fresh data
                queryClient.invalidateQueries({
                    queryKey: [
                        "repositories",
                        orgId
                    ]
                });
                router.push(`/dashboard/org/${orgId}`);
            } else if (type === "github") {
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$services$2f$data$3a$2f545c__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createRepoViaGithub"])(formData, orgId);
                if (!result.success) {
                    if (result.error === "Name is required!") {
                        setNameError(result.error);
                        setIsLoading(false);
                        return;
                    }
                    if (result.error === "Installation Needed") {
                        // Automatically redirect to GitHub App installation page
                        router.push(`/dashboard/install-github-app?org_id=${orgId}`);
                        return;
                    }
                    setError(result.error);
                    setIsLoading(false);
                    return;
                }
                // Invalidate repositories query to refetch fresh data
                queryClient.invalidateQueries({
                    queryKey: [
                        "repositories",
                        orgId
                    ]
                });
                router.push(`/dashboard/org/${orgId}`);
            } else if (type === "gitlab") {
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$services$2f$data$3a$368a37__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createRepoViaGitlab"])(formData, orgId);
                if (!result.success) {
                    console.log(result.error);
                    if (result.error === "Name is required!") {
                        setNameError(result.error);
                        setIsLoading(false);
                        return;
                    }
                    if (result.error === "Installation Needed") {
                        // Redirect to GitLab App installation page
                        router.push(`/dashboard/install-gitlab-app?org_id=${orgId}`);
                    }
                    if (result.error === "Access required!") {
                        // Redirect to project selection page
                        router.push(`${("TURBOPACK compile-time value", "http://localhost:3000")}/dashboard/org/${orgId}/gitlab/select-repos`);
                    }
                    setError(result.error);
                    setIsLoading(false);
                    return;
                }
                // Invalidate repositories query to refetch fresh data
                queryClient.invalidateQueries({
                    queryKey: [
                        "repositories",
                        orgId
                    ]
                });
                router.push(`/dashboard/org/${orgId}`);
            }
        } catch (err) {
            setError(err instanceof Error ? err.message : "An unexpected error occurred");
            setIsLoading(false);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex flex-col bg-elevated",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("form", {
            onSubmit: handleSubmit,
            className: "space-y-6 px-5 py-5 border rounded-md",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                    type: "hidden",
                    name: "type",
                    value: type
                }, void 0, false, {
                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                    lineNumber: 147,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex flex-col gap-1",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "text-foreground",
                            children: "Index a new Repository"
                        }, void 0, false, {
                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                            lineNumber: 150,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "text-muted-foreground text-xs",
                            children: "Index a repository to generate documentation and start chatting with the codebase."
                        }, void 0, false, {
                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                            lineNumber: 151,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                    lineNumber: 149,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {}, void 0, false, {
                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                    lineNumber: 156,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldSet"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Field"], {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldLabel"], {
                                    htmlFor: "name",
                                    children: "Name"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 160,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    id: "name",
                                    name: "name",
                                    type: "text",
                                    value: name,
                                    onChange: (e)=>setName(e.target.value),
                                    placeholder: "Organization name",
                                    required: true,
                                    className: "w-full px-3 py-2 border border-input rounded-md bg-background text-foreground text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 161,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldDescription"], {
                                    children: "Choose a name for the repository."
                                }, void 0, false, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 171,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldError"], {
                                    children: nameError
                                }, void 0, false, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 174,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                            lineNumber: 159,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {}, void 0, false, {
                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                            lineNumber: 176,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Field"], {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldLabel"], {
                                    htmlFor: "type",
                                    children: "Type"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 178,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Select"], {
                                    value: type,
                                    onValueChange: (value)=>{
                                        setType(value);
                                    },
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectTrigger"], {
                                            id: "type",
                                            name: "type",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectValue"], {
                                                placeholder: "Select a type"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                lineNumber: 186,
                                                columnNumber: 17
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 185,
                                            columnNumber: 15
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectContent"], {
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectGroup"], {
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectLabel"], {
                                                        children: "Select a Type"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                        lineNumber: 190,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                        value: "local",
                                                        children: "Local"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                        lineNumber: 191,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                        value: "github",
                                                        children: "GitHub"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                        lineNumber: 192,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                        value: "gitlab",
                                                        children: "GitLab"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                        lineNumber: 193,
                                                        columnNumber: 19
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                lineNumber: 189,
                                                columnNumber: 17
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 188,
                                            columnNumber: 15
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 179,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldDescription"], {
                                    children: "Select a repository type"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 197,
                                    columnNumber: 13
                                }, this),
                                type === "github" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex flex-col gap-3 py-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {}, void 0, false, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 200,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Field"], {
                                            className: "py-2",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldLabel"], {
                                                    htmlFor: "github-url",
                                                    children: "GitHub URL"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 202,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                    id: "github-url",
                                                    name: "github-url",
                                                    type: "url",
                                                    value: githubUrl,
                                                    onChange: (e)=>setGithubUrl(e.target.value),
                                                    className: "w-full px-3 py-2 border border-input rounded-md bg-background text-foreground text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 203,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldDescription"], {
                                                    children: "Enter the URL of the GitHub repository."
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 211,
                                                    columnNumber: 19
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 201,
                                            columnNumber: 17
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 199,
                                    columnNumber: 15
                                }, this),
                                type === "gitlab" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex flex-col gap-3 py-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {}, void 0, false, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 219,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Field"], {
                                            className: "py-2",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldLabel"], {
                                                    htmlFor: "gitlab-url",
                                                    children: "GitLab URL"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 221,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                    id: "gitlab-url",
                                                    name: "gitlab-url",
                                                    type: "url",
                                                    value: gitlabUrl,
                                                    onChange: (e)=>setGitlabUrl(e.target.value),
                                                    className: "w-full px-3 py-2 border border-input rounded-md bg-background text-foreground text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 222,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldDescription"], {
                                                    children: "Enter the URL of the GitLab repository."
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 230,
                                                    columnNumber: 19
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 220,
                                            columnNumber: 17
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 218,
                                    columnNumber: 15
                                }, this),
                                type === "local" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex flex-col gap-3 py-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {}, void 0, false, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 238,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Field"], {
                                            className: "py-2",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldLabel"], {
                                                    htmlFor: "file",
                                                    children: "File (.zip)"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 240,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                    id: "file",
                                                    name: "file",
                                                    type: "file",
                                                    accept: ".zip,application/zip",
                                                    onChange: (e)=>setUploadedFile(e.target.files?.[0] || null),
                                                    className: "cursor-pointer file:cursor-pointer file:border file:border-gray-700 file:bg-elevated file:hover:border-gray-600 file:px-4 file:py-1 file:rounded-md file:mr-3 file:transition-colors"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 241,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldDescription"], {
                                                    children: uploadedFile ? `Selected: ${uploadedFile.name} (${(uploadedFile.size / 1024 / 1024).toFixed(2)} MB)` : "Upload a .zip file of the local repository."
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 251,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$field$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FieldError"], {
                                                    children: error
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                                    lineNumber: 256,
                                                    columnNumber: 19
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                            lineNumber: 239,
                                            columnNumber: 17
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                                    lineNumber: 237,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                            lineNumber: 177,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                    lineNumber: 158,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Separator"], {}, void 0, false, {
                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                    lineNumber: 263,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex gap-3",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                            type: "submit",
                            size: "sm",
                            disabled: isLoading || !name.trim(),
                            children: isLoading ? "Creating..." : "Create Repository"
                        }, void 0, false, {
                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                            lineNumber: 266,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                            type: "button",
                            variant: "outline",
                            size: "sm",
                            onClick: ()=>router.back(),
                            disabled: isLoading,
                            children: "Cancel"
                        }, void 0, false, {
                            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                            lineNumber: 269,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
                    lineNumber: 265,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
            lineNumber: 142,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/components/dashboard/repos/new-repo-form.tsx",
        lineNumber: 141,
        columnNumber: 5
    }, this);
}
}),
];

//# sourceMappingURL=src_e0ea0d52._.js.map